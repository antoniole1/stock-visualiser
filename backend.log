/Users/ant/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(

======================================================================
FLASK APP INITIALIZED - Portfolio storage with Supabase
======================================================================

âœ“ Supabase database connected
âœ“ AlphaVantage API key configured: 32NUEU37...

[STARTUP] Verifying portfolio metrics tables...
[STARTUP] âœ“ Portfolio metrics tables verified

Starting Flask server on http://0.0.0.0:5001
API endpoint: /api/stock/{ticker}
Finnhub API key configured: d4gdnt9r...
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.207:5001
[33mPress CTRL+C to quit[0m
127.0.0.1 - - [28/Dec/2025 23:41:21] "GET / HTTP/1.1" 200 -
127.0.0.1 - - [28/Dec/2025 23:41:21] "[33mGET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1[0m" 404 -
127.0.0.1 - - [28/Dec/2025 23:41:21] "GET /css/styles.css HTTP/1.1" 200 -
127.0.0.1 - - [28/Dec/2025 23:41:21] "GET /js/modal.js HTTP/1.1" 200 -
127.0.0.1 - - [28/Dec/2025 23:41:21] "GET /js/app.js HTTP/1.1" 200 -
127.0.0.1 - - [28/Dec/2025 23:41:22] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
127.0.0.1 - - [28/Dec/2025 23:41:31] "POST /api/portfolio/login HTTP/1.1" 200 -
[METRICS] Fetching cached metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 74554.6, 'total_invested_all_portfolios': 47362.0, 'gain_loss_all_portfolios': 27192.6, 'aggregate_return_percentage': 57.41438283856256}
127.0.0.1 - - [28/Dec/2025 23:41:31] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
[METRICS] Calculated fresh aggregate: value=74554.60, invested=47362.00, gain_loss=27192.60, return=57.41%
[METRICS] Returning metrics for 4 portfolios
127.0.0.1 - - [28/Dec/2025 23:41:31] "POST /api/portfolios/metrics HTTP/1.1" 200 -
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 74554.6, 'total_invested_all_portfolios': 47362.0, 'gain_loss_all_portfolios': 27192.6, 'aggregate_return_percentage': 57.41438283856256}
127.0.0.1 - - [28/Dec/2025 23:41:31] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
127.0.0.1 - - [28/Dec/2025 23:44:29] "GET /api/portfolio/details?portfolio_id=7c0c111b-158c-47d6-9f8e-bc0492259133 HTTP/1.1" 200 -
127.0.0.1 - - [28/Dec/2025 23:44:29] "POST /api/portfolio/last-sync HTTP/1.1" 200 -
127.0.0.1 - - [28/Dec/2025 23:44:30] "GET /api/stock/AAPL/instant HTTP/1.1" 200 -
Failed to get ticker 'AAPL' reason: Expecting value: line 1 column 1 (char 0)
AAPL: No timezone found, symbol may be delisted
127.0.0.1 - - [28/Dec/2025 23:44:32] "[33mGET /api/stock/AAPL/history?from_date=2025-12-01 HTTP/1.1[0m" 404 -
[METRICS] Stored metrics for portfolio 7c0c111b-158c-47d6-9f8e-bc0492259133: 82.27%
[METRICS] Saved metrics for portfolio 7c0c111b-158c-47d6-9f8e-bc0492259133: {'total_value': 27339.999999999996, 'total_invested': 15000.0, 'gain_loss': 12339.999999999996, 'return_percentage': 82.26666666666664}
[METRICS] Portfolio Portfolio 4: value=8686.80, invested=8100.00, gain_loss=586.80
[METRICS] Portfolio portfolio 2: value=31351.00, invested=14000.00, gain_loss=17351.00
[METRICS] Portfolio Portfolio1: value=27340.00, invested=15000.00, gain_loss=12340.00
[METRICS] Portfolio Portfolio 3: value=7176.80, invested=10262.00, gain_loss=-3085.20
[METRICS] Updated aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: 57.41% (4 portfolios)
127.0.0.1 - - [28/Dec/2025 23:44:33] "POST /api/portfolio/save-metrics HTTP/1.1" 200 -
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 74554.6, 'total_invested_all_portfolios': 47362.0, 'gain_loss_all_portfolios': 27192.6, 'aggregate_return_percentage': 57.41438283856256}
127.0.0.1 - - [28/Dec/2025 23:44:38] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
127.0.0.1 - - [28/Dec/2025 23:44:42] "GET /api/portfolio/details?portfolio_id=7c0c111b-158c-47d6-9f8e-bc0492259133 HTTP/1.1" 200 -
127.0.0.1 - - [28/Dec/2025 23:44:42] "POST /api/portfolio/last-sync HTTP/1.1" 200 -
127.0.0.1 - - [28/Dec/2025 23:44:42] "GET /api/stock/AAPL/instant HTTP/1.1" 200 -
Failed to get ticker 'AAPL' reason: Expecting value: line 1 column 1 (char 0)
AAPL: No timezone found, symbol may be delisted
127.0.0.1 - - [28/Dec/2025 23:44:42] "[33mGET /api/stock/AAPL/history?from_date=2025-12-01 HTTP/1.1[0m" 404 -
[METRICS] Stored metrics for portfolio 7c0c111b-158c-47d6-9f8e-bc0492259133: 82.27%
[METRICS] Saved metrics for portfolio 7c0c111b-158c-47d6-9f8e-bc0492259133: {'total_value': 27339.999999999996, 'total_invested': 15000.0, 'gain_loss': 12339.999999999996, 'return_percentage': 82.26666666666664}
[METRICS] Portfolio Portfolio 4: value=8686.80, invested=8100.00, gain_loss=586.80
[METRICS] Portfolio portfolio 2: value=31351.00, invested=14000.00, gain_loss=17351.00
[METRICS] Portfolio Portfolio1: value=27340.00, invested=15000.00, gain_loss=12340.00
[METRICS] Portfolio Portfolio 3: value=7176.80, invested=10262.00, gain_loss=-3085.20
[METRICS] Updated aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: 57.41% (4 portfolios)
127.0.0.1 - - [28/Dec/2025 23:44:43] "POST /api/portfolio/save-metrics HTTP/1.1" 200 -
[STOCK] Fetching data for: MCO
[STOCK] Calling Finnhub with params: {'symbol': 'MCO', 'token': 'd4gdnt9r01qm5b354vmgd4gdnt9r01qm5b354vn0'}
[STOCK] Finnhub response status: 200
[STOCK] MCO - API response: {'c': 520.04, 'd': 2.76, 'dp': 0.5336, 'h': 520.88, 'l': 515.91, 'o': 517.2, 'pc': 517.28, 't': 1766782800}
[STOCK] MCO - Raw values: c=520.04, pc=517.28, d=2.76, dp=0.5336
127.0.0.1 - - [28/Dec/2025 23:45:21] "GET /api/stock/MCO HTTP/1.1" 200 -
127.0.0.1 - - [28/Dec/2025 23:45:21] "POST /api/portfolio/save HTTP/1.1" 200 -
127.0.0.1 - - [28/Dec/2025 23:45:23] "POST /api/portfolio/last-sync HTTP/1.1" 200 -
127.0.0.1 - - [28/Dec/2025 23:45:23] "GET /api/stock/AAPL/instant HTTP/1.1" 200 -
127.0.0.1 - - [28/Dec/2025 23:45:23] "GET /api/stock/MCO/instant HTTP/1.1" 200 -
Failed to get ticker 'AAPL' reason: Expecting value: line 1 column 1 (char 0)
AAPL: No timezone found, symbol may be delisted
127.0.0.1 - - [28/Dec/2025 23:45:23] "[33mGET /api/stock/AAPL/history?from_date=2025-12-01 HTTP/1.1[0m" 404 -
Failed to get ticker 'MCO' reason: Expecting value: line 1 column 1 (char 0)
MCO: No timezone found, symbol may be delisted
127.0.0.1 - - [28/Dec/2025 23:45:25] "[33mGET /api/stock/MCO/history?from_date=2025-12-01 HTTP/1.1[0m" 404 -
[METRICS] Stored metrics for portfolio 7c0c111b-158c-47d6-9f8e-bc0492259133: 58.73%
[METRICS] Saved metrics for portfolio 7c0c111b-158c-47d6-9f8e-bc0492259133: {'total_value': 32540.399999999994, 'total_invested': 20500.0, 'gain_loss': 12040.399999999994, 'return_percentage': 58.733658536585345}
[METRICS] Portfolio Portfolio 4: value=8686.80, invested=8100.00, gain_loss=586.80
[METRICS] Portfolio Portfolio1: value=32540.40, invested=20500.00, gain_loss=12040.40
[METRICS] Portfolio portfolio 2: value=31351.00, invested=14000.00, gain_loss=17351.00
[METRICS] Portfolio Portfolio 3: value=7176.80, invested=10262.00, gain_loss=-3085.20
[METRICS] Updated aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: 50.87% (4 portfolios)
127.0.0.1 - - [28/Dec/2025 23:45:25] "POST /api/portfolio/save-metrics HTTP/1.1" 200 -
[STOCK] Fetching data for: DELL
[STOCK] Calling Finnhub with params: {'symbol': 'DELL', 'token': 'd4gdnt9r01qm5b354vmgd4gdnt9r01qm5b354vn0'}
[STOCK] Finnhub response status: 200
[STOCK] DELL - API response: {'c': 129.24, 'd': 0.86, 'dp': 0.6699, 'h': 129.67, 'l': 128, 'o': 128.65, 'pc': 128.38, 't': 1766782800}
[STOCK] DELL - Raw values: c=129.24, pc=128.38, d=0.86, dp=0.6699
127.0.0.1 - - [28/Dec/2025 23:46:24] "GET /api/stock/DELL HTTP/1.1" 200 -
127.0.0.1 - - [28/Dec/2025 23:46:24] "POST /api/portfolio/save HTTP/1.1" 200 -
127.0.0.1 - - [28/Dec/2025 23:46:27] "POST /api/portfolio/last-sync HTTP/1.1" 200 -
127.0.0.1 - - [28/Dec/2025 23:46:27] "GET /api/stock/MCO/instant HTTP/1.1" 200 -
127.0.0.1 - - [28/Dec/2025 23:46:27] "GET /api/stock/AAPL/instant HTTP/1.1" 200 -
127.0.0.1 - - [28/Dec/2025 23:46:27] "GET /api/stock/DELL/instant HTTP/1.1" 200 -
Failed to get ticker 'AAPL' reason: Expecting value: line 1 column 1 (char 0)
AAPL: No timezone found, symbol may be delisted
127.0.0.1 - - [28/Dec/2025 23:46:28] "[33mGET /api/stock/AAPL/history?from_date=2025-12-01 HTTP/1.1[0m" 404 -
Failed to get ticker 'MCO' reason: Expecting value: line 1 column 1 (char 0)
MCO: No timezone found, symbol may be delisted
127.0.0.1 - - [28/Dec/2025 23:46:28] "[33mGET /api/stock/MCO/history?from_date=2025-12-01 HTTP/1.1[0m" 404 -
Failed to get ticker 'DELL' reason: Expecting value: line 1 column 1 (char 0)
DELL: No timezone found, symbol may be delisted
127.0.0.1 - - [28/Dec/2025 23:46:29] "[33mGET /api/stock/DELL/history?from_date=2025-12-01 HTTP/1.1[0m" 404 -
Error retrieving last close price for AAPL: [Errno 35] Resource temporarily unavailable
Error retrieving last close price for MCO: [Errno 35] Resource temporarily unavailable
Error retrieving last close price for DELL: [Errno 35] Resource temporarily unavailable
[METRICS] Stored metrics for portfolio 7c0c111b-158c-47d6-9f8e-bc0492259133: 48.58%
[METRICS] Saved metrics for portfolio 7c0c111b-158c-47d6-9f8e-bc0492259133: {'total_value': 39002.399999999994, 'total_invested': 26250.0, 'gain_loss': 12752.399999999994, 'return_percentage': 48.5805714285714}
[METRICS] Portfolio Portfolio 4: value=8686.80, invested=8100.00, gain_loss=586.80
[METRICS] Portfolio Portfolio1: value=39002.40, invested=26250.00, gain_loss=12752.40
[METRICS] Portfolio portfolio 2: value=31351.00, invested=14000.00, gain_loss=17351.00
[METRICS] Portfolio Portfolio 3: value=7176.80, invested=10262.00, gain_loss=-3085.20
[METRICS] Updated aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: 47.10% (4 portfolios)
127.0.0.1 - - [28/Dec/2025 23:46:30] "POST /api/portfolio/save-metrics HTTP/1.1" 200 -
127.0.0.1 - - [28/Dec/2025 23:46:47] "POST /api/portfolio/save HTTP/1.1" 200 -
127.0.0.1 - - [28/Dec/2025 23:46:47] "GET /api/portfolio/details?portfolio_id=e5995861-8ac4-4c5a-a33d-d8fc4501d758 HTTP/1.1" 200 -
[METRICS] Stored metrics for portfolio 7c0c111b-158c-47d6-9f8e-bc0492259133: 48.58%
[METRICS] Saved metrics for portfolio 7c0c111b-158c-47d6-9f8e-bc0492259133: {'total_value': 39002.399999999994, 'total_invested': 26250.0, 'gain_loss': 12752.399999999994, 'return_percentage': 48.5805714285714}
127.0.0.1 - - [28/Dec/2025 23:46:47] "POST /api/portfolio/last-sync HTTP/1.1" 200 -
[METRICS] Portfolio Portfolio 4: value=8686.80, invested=8100.00, gain_loss=586.80
[METRICS] Portfolio portfolio 2: value=31351.00, invested=14000.00, gain_loss=17351.00
[METRICS] Portfolio Portfolio1: value=39002.40, invested=26250.00, gain_loss=12752.40
[METRICS] Portfolio Portfolio 3: value=7176.80, invested=10262.00, gain_loss=-3085.20
[METRICS] Updated aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: 47.10% (4 portfolios)
127.0.0.1 - - [28/Dec/2025 23:46:48] "POST /api/portfolio/save-metrics HTTP/1.1" 200 -
127.0.0.1 - - [28/Dec/2025 23:46:48] "GET /api/stock/MDT/instant HTTP/1.1" 200 -
Failed to get ticker 'MDT' reason: Expecting value: line 1 column 1 (char 0)
MDT: No timezone found, symbol may be delisted
127.0.0.1 - - [28/Dec/2025 23:46:49] "[33mGET /api/stock/MDT/history?from_date=2025-12-01 HTTP/1.1[0m" 404 -
[METRICS] Stored metrics for portfolio e5995861-8ac4-4c5a-a33d-d8fc4501d758: 7.24%
[METRICS] Saved metrics for portfolio e5995861-8ac4-4c5a-a33d-d8fc4501d758: {'total_value': 8686.8, 'total_invested': 8100.0, 'gain_loss': 586.7999999999993, 'return_percentage': 7.244444444444436}
[METRICS] Portfolio Portfolio 4: value=8686.80, invested=8100.00, gain_loss=586.80
[METRICS] Portfolio portfolio 2: value=31351.00, invested=14000.00, gain_loss=17351.00
[METRICS] Portfolio Portfolio1: value=39002.40, invested=26250.00, gain_loss=12752.40
[METRICS] Portfolio Portfolio 3: value=7176.80, invested=10262.00, gain_loss=-3085.20
[METRICS] Updated aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: 47.10% (4 portfolios)
127.0.0.1 - - [28/Dec/2025 23:46:50] "POST /api/portfolio/save-metrics HTTP/1.1" 200 -
127.0.0.1 - - [28/Dec/2025 23:46:56] "POST /api/portfolio/save HTTP/1.1" 200 -
127.0.0.1 - - [28/Dec/2025 23:46:56] "GET /api/portfolio/details?portfolio_id=e5995861-8ac4-4c5a-a33d-d8fc4501d758 HTTP/1.1" 200 -
[METRICS] Stored metrics for portfolio e5995861-8ac4-4c5a-a33d-d8fc4501d758: 7.24%
[METRICS] Saved metrics for portfolio e5995861-8ac4-4c5a-a33d-d8fc4501d758: {'total_value': 8686.8, 'total_invested': 8100.0, 'gain_loss': 586.7999999999993, 'return_percentage': 7.244444444444436}
127.0.0.1 - - [28/Dec/2025 23:46:56] "POST /api/portfolio/last-sync HTTP/1.1" 200 -
[METRICS] Portfolio portfolio 2: value=31351.00, invested=14000.00, gain_loss=17351.00
[METRICS] Portfolio Portfolio1: value=39002.40, invested=26250.00, gain_loss=12752.40
[METRICS] Portfolio Portfolio 4: value=8686.80, invested=8100.00, gain_loss=586.80
[METRICS] Portfolio Portfolio 3: value=7176.80, invested=10262.00, gain_loss=-3085.20
[METRICS] Updated aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: 47.10% (4 portfolios)
127.0.0.1 - - [28/Dec/2025 23:46:57] "POST /api/portfolio/save-metrics HTTP/1.1" 200 -
127.0.0.1 - - [28/Dec/2025 23:46:57] "GET /api/stock/MDT/instant HTTP/1.1" 200 -
Failed to get ticker 'MDT' reason: Expecting value: line 1 column 1 (char 0)
MDT: No timezone found, symbol may be delisted
127.0.0.1 - - [28/Dec/2025 23:46:57] "[33mGET /api/stock/MDT/history?from_date=2025-12-01 HTTP/1.1[0m" 404 -
[METRICS] Stored metrics for portfolio e5995861-8ac4-4c5a-a33d-d8fc4501d758: 7.24%
[METRICS] Saved metrics for portfolio e5995861-8ac4-4c5a-a33d-d8fc4501d758: {'total_value': 8686.8, 'total_invested': 8100.0, 'gain_loss': 586.7999999999993, 'return_percentage': 7.244444444444436}
[METRICS] Portfolio portfolio 2: value=31351.00, invested=14000.00, gain_loss=17351.00
[METRICS] Portfolio Portfolio1: value=39002.40, invested=26250.00, gain_loss=12752.40
[METRICS] Portfolio Portfolio 4: value=8686.80, invested=8100.00, gain_loss=586.80
[METRICS] Portfolio Portfolio 3: value=7176.80, invested=10262.00, gain_loss=-3085.20
[METRICS] Updated aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: 47.10% (4 portfolios)
127.0.0.1 - - [28/Dec/2025 23:46:58] "POST /api/portfolio/save-metrics HTTP/1.1" 200 -
127.0.0.1 - - [28/Dec/2025 23:47:00] "POST /api/portfolio/save HTTP/1.1" 200 -
127.0.0.1 - - [28/Dec/2025 23:47:00] "GET /api/portfolio/details?portfolio_id=27e4b6da-484e-45fe-b16f-51857467feea HTTP/1.1" 200 -
[METRICS] Stored metrics for portfolio e5995861-8ac4-4c5a-a33d-d8fc4501d758: 7.24%
[METRICS] Saved metrics for portfolio e5995861-8ac4-4c5a-a33d-d8fc4501d758: {'total_value': 8686.8, 'total_invested': 8100.0, 'gain_loss': 586.7999999999993, 'return_percentage': 7.244444444444436}
127.0.0.1 - - [28/Dec/2025 23:47:00] "POST /api/portfolio/last-sync HTTP/1.1" 200 -
[METRICS] Portfolio portfolio 2: value=31351.00, invested=14000.00, gain_loss=17351.00
[METRICS] Portfolio Portfolio1: value=39002.40, invested=26250.00, gain_loss=12752.40
[METRICS] Portfolio Portfolio 4: value=8686.80, invested=8100.00, gain_loss=586.80
[METRICS] Portfolio Portfolio 3: value=7176.80, invested=10262.00, gain_loss=-3085.20
[METRICS] Updated aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: 47.10% (4 portfolios)
127.0.0.1 - - [28/Dec/2025 23:47:01] "POST /api/portfolio/save-metrics HTTP/1.1" 200 -
127.0.0.1 - - [28/Dec/2025 23:47:01] "GET /api/stock/GOOGL/instant HTTP/1.1" 200 -
Failed to get ticker 'GOOGL' reason: Expecting value: line 1 column 1 (char 0)
GOOGL: No timezone found, symbol may be delisted
127.0.0.1 - - [28/Dec/2025 23:47:02] "[33mGET /api/stock/GOOGL/history?from_date=2025-12-01 HTTP/1.1[0m" 404 -
[METRICS] Stored metrics for portfolio 27e4b6da-484e-45fe-b16f-51857467feea: 123.94%
[METRICS] Saved metrics for portfolio 27e4b6da-484e-45fe-b16f-51857467feea: {'total_value': 31351.0, 'total_invested': 14000.0, 'gain_loss': 17351.0, 'return_percentage': 123.93571428571428}
[METRICS] Portfolio portfolio 2: value=31351.00, invested=14000.00, gain_loss=17351.00
[METRICS] Portfolio Portfolio1: value=39002.40, invested=26250.00, gain_loss=12752.40
[METRICS] Portfolio Portfolio 4: value=8686.80, invested=8100.00, gain_loss=586.80
[METRICS] Portfolio Portfolio 3: value=7176.80, invested=10262.00, gain_loss=-3085.20
[METRICS] Updated aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: 47.10% (4 portfolios)
127.0.0.1 - - [28/Dec/2025 23:47:02] "POST /api/portfolio/save-metrics HTTP/1.1" 200 -
127.0.0.1 - - [28/Dec/2025 23:47:07] "POST /api/portfolio/save HTTP/1.1" 200 -
127.0.0.1 - - [28/Dec/2025 23:47:07] "GET /api/portfolio/details?portfolio_id=e5995861-8ac4-4c5a-a33d-d8fc4501d758 HTTP/1.1" 200 -
[METRICS] Stored metrics for portfolio 27e4b6da-484e-45fe-b16f-51857467feea: 123.94%
[METRICS] Saved metrics for portfolio 27e4b6da-484e-45fe-b16f-51857467feea: {'total_value': 31351.0, 'total_invested': 14000.0, 'gain_loss': 17351.0, 'return_percentage': 123.93571428571428}
127.0.0.1 - - [28/Dec/2025 23:47:07] "POST /api/portfolio/last-sync HTTP/1.1" 200 -
[METRICS] Portfolio Portfolio1: value=39002.40, invested=26250.00, gain_loss=12752.40
[METRICS] Portfolio Portfolio 4: value=8686.80, invested=8100.00, gain_loss=586.80
[METRICS] Portfolio portfolio 2: value=31351.00, invested=14000.00, gain_loss=17351.00
[METRICS] Portfolio Portfolio 3: value=7176.80, invested=10262.00, gain_loss=-3085.20
[METRICS] Updated aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: 47.10% (4 portfolios)
127.0.0.1 - - [28/Dec/2025 23:47:08] "POST /api/portfolio/save-metrics HTTP/1.1" 200 -
127.0.0.1 - - [28/Dec/2025 23:47:08] "GET /api/stock/MDT/instant HTTP/1.1" 200 -
Failed to get ticker 'MDT' reason: Expecting value: line 1 column 1 (char 0)
MDT: No timezone found, symbol may be delisted
127.0.0.1 - - [28/Dec/2025 23:47:08] "[33mGET /api/stock/MDT/history?from_date=2025-12-01 HTTP/1.1[0m" 404 -
[METRICS] Stored metrics for portfolio e5995861-8ac4-4c5a-a33d-d8fc4501d758: 7.24%
[METRICS] Saved metrics for portfolio e5995861-8ac4-4c5a-a33d-d8fc4501d758: {'total_value': 8686.8, 'total_invested': 8100.0, 'gain_loss': 586.7999999999993, 'return_percentage': 7.244444444444436}
[METRICS] Portfolio Portfolio1: value=39002.40, invested=26250.00, gain_loss=12752.40
[METRICS] Portfolio Portfolio 4: value=8686.80, invested=8100.00, gain_loss=586.80
[METRICS] Portfolio portfolio 2: value=31351.00, invested=14000.00, gain_loss=17351.00
[METRICS] Portfolio Portfolio 3: value=7176.80, invested=10262.00, gain_loss=-3085.20
[METRICS] Updated aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: 47.10% (4 portfolios)
127.0.0.1 - - [28/Dec/2025 23:47:09] "POST /api/portfolio/save-metrics HTTP/1.1" 200 -
127.0.0.1 - - [28/Dec/2025 23:47:13] "POST /api/portfolio/save HTTP/1.1" 200 -
127.0.0.1 - - [28/Dec/2025 23:47:13] "GET /api/portfolio/details?portfolio_id=27e4b6da-484e-45fe-b16f-51857467feea HTTP/1.1" 200 -
[METRICS] Stored metrics for portfolio e5995861-8ac4-4c5a-a33d-d8fc4501d758: 7.24%
[METRICS] Saved metrics for portfolio e5995861-8ac4-4c5a-a33d-d8fc4501d758: {'total_value': 8686.8, 'total_invested': 8100.0, 'gain_loss': 586.7999999999993, 'return_percentage': 7.244444444444436}
127.0.0.1 - - [28/Dec/2025 23:47:13] "POST /api/portfolio/last-sync HTTP/1.1" 200 -
[METRICS] Portfolio Portfolio1: value=39002.40, invested=26250.00, gain_loss=12752.40
[METRICS] Portfolio portfolio 2: value=31351.00, invested=14000.00, gain_loss=17351.00
[METRICS] Portfolio Portfolio 4: value=8686.80, invested=8100.00, gain_loss=586.80
[METRICS] Portfolio Portfolio 3: value=7176.80, invested=10262.00, gain_loss=-3085.20
[METRICS] Updated aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: 47.10% (4 portfolios)
127.0.0.1 - - [28/Dec/2025 23:47:14] "POST /api/portfolio/save-metrics HTTP/1.1" 200 -
127.0.0.1 - - [28/Dec/2025 23:47:14] "GET /api/stock/GOOGL/instant HTTP/1.1" 200 -
Failed to get ticker 'GOOGL' reason: Expecting value: line 1 column 1 (char 0)
GOOGL: No timezone found, symbol may be delisted
127.0.0.1 - - [28/Dec/2025 23:47:14] "[33mGET /api/stock/GOOGL/history?from_date=2025-12-01 HTTP/1.1[0m" 404 -
[METRICS] Stored metrics for portfolio 27e4b6da-484e-45fe-b16f-51857467feea: 123.94%
[METRICS] Saved metrics for portfolio 27e4b6da-484e-45fe-b16f-51857467feea: {'total_value': 31351.0, 'total_invested': 14000.0, 'gain_loss': 17351.0, 'return_percentage': 123.93571428571428}
[METRICS] Portfolio Portfolio1: value=39002.40, invested=26250.00, gain_loss=12752.40
[METRICS] Portfolio portfolio 2: value=31351.00, invested=14000.00, gain_loss=17351.00
[METRICS] Portfolio Portfolio 4: value=8686.80, invested=8100.00, gain_loss=586.80
[METRICS] Portfolio Portfolio 3: value=7176.80, invested=10262.00, gain_loss=-3085.20
[METRICS] Updated aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: 47.10% (4 portfolios)
127.0.0.1 - - [28/Dec/2025 23:47:15] "POST /api/portfolio/save-metrics HTTP/1.1" 200 -
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 74554.6, 'total_invested_all_portfolios': 47362.0, 'gain_loss_all_portfolios': 27192.6, 'aggregate_return_percentage': 57.41438283856256}
127.0.0.1 - - [28/Dec/2025 23:47:25] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
127.0.0.1 - - [28/Dec/2025 23:47:43] "GET /api/portfolio/details?portfolio_id=7c0c111b-158c-47d6-9f8e-bc0492259133 HTTP/1.1" 200 -
127.0.0.1 - - [28/Dec/2025 23:47:44] "POST /api/portfolio/last-sync HTTP/1.1" 200 -
127.0.0.1 - - [28/Dec/2025 23:47:44] "GET /api/stock/MCO/instant HTTP/1.1" 200 -
127.0.0.1 - - [28/Dec/2025 23:47:44] "GET /api/stock/AAPL/instant HTTP/1.1" 200 -
127.0.0.1 - - [28/Dec/2025 23:47:44] "GET /api/stock/DELL/instant HTTP/1.1" 200 -
Failed to get ticker 'MCO' reason: Expecting value: line 1 column 1 (char 0)
MCO: No timezone found, symbol may be delisted
127.0.0.1 - - [28/Dec/2025 23:47:44] "[33mGET /api/stock/MCO/history?from_date=2025-12-01 HTTP/1.1[0m" 404 -
Failed to get ticker 'AAPL' reason: Expecting value: line 1 column 1 (char 0)
AAPL: No timezone found, symbol may be delisted
127.0.0.1 - - [28/Dec/2025 23:47:44] "[33mGET /api/stock/AAPL/history?from_date=2025-12-01 HTTP/1.1[0m" 404 -
Failed to get ticker 'DELL' reason: Expecting value: line 1 column 1 (char 0)
DELL: No timezone found, symbol may be delisted
127.0.0.1 - - [28/Dec/2025 23:47:44] "[33mGET /api/stock/DELL/history?from_date=2025-12-01 HTTP/1.1[0m" 404 -
Error retrieving last close price for AAPL: [Errno 35] Resource temporarily unavailable
Error retrieving last close price for MCO: [Errno 35] Resource temporarily unavailable
Error retrieving last close price for DELL: [Errno 35] Resource temporarily unavailable
[METRICS] Stored metrics for portfolio 7c0c111b-158c-47d6-9f8e-bc0492259133: 48.58%
[METRICS] Saved metrics for portfolio 7c0c111b-158c-47d6-9f8e-bc0492259133: {'total_value': 39002.399999999994, 'total_invested': 26250.0, 'gain_loss': 12752.399999999994, 'return_percentage': 48.5805714285714}
[METRICS] Portfolio Portfolio1: value=39002.40, invested=26250.00, gain_loss=12752.40
[METRICS] Portfolio portfolio 2: value=31351.00, invested=14000.00, gain_loss=17351.00
[METRICS] Portfolio Portfolio 4: value=8686.80, invested=8100.00, gain_loss=586.80
[METRICS] Portfolio Portfolio 3: value=7176.80, invested=10262.00, gain_loss=-3085.20
[METRICS] Updated aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: 47.10% (4 portfolios)
127.0.0.1 - - [28/Dec/2025 23:47:45] "POST /api/portfolio/save-metrics HTTP/1.1" 200 -
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 74554.6, 'total_invested_all_portfolios': 47362.0, 'gain_loss_all_portfolios': 27192.6, 'aggregate_return_percentage': 57.41438283856256}
127.0.0.1 - - [28/Dec/2025 23:47:53] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
127.0.0.1 - - [28/Dec/2025 23:48:00] "GET /api/portfolio/details?portfolio_id=27e4b6da-484e-45fe-b16f-51857467feea HTTP/1.1" 200 -
127.0.0.1 - - [28/Dec/2025 23:48:00] "POST /api/portfolio/last-sync HTTP/1.1" 200 -
127.0.0.1 - - [28/Dec/2025 23:48:01] "GET /api/stock/GOOGL/instant HTTP/1.1" 200 -
Failed to get ticker 'GOOGL' reason: Expecting value: line 1 column 1 (char 0)
GOOGL: No timezone found, symbol may be delisted
127.0.0.1 - - [28/Dec/2025 23:48:01] "[33mGET /api/stock/GOOGL/history?from_date=2025-12-01 HTTP/1.1[0m" 404 -
[METRICS] Stored metrics for portfolio 27e4b6da-484e-45fe-b16f-51857467feea: 123.94%
[METRICS] Saved metrics for portfolio 27e4b6da-484e-45fe-b16f-51857467feea: {'total_value': 31351.0, 'total_invested': 14000.0, 'gain_loss': 17351.0, 'return_percentage': 123.93571428571428}
[METRICS] Portfolio Portfolio1: value=39002.40, invested=26250.00, gain_loss=12752.40
[METRICS] Portfolio portfolio 2: value=31351.00, invested=14000.00, gain_loss=17351.00
[METRICS] Portfolio Portfolio 4: value=8686.80, invested=8100.00, gain_loss=586.80
[METRICS] Portfolio Portfolio 3: value=7176.80, invested=10262.00, gain_loss=-3085.20
[METRICS] Updated aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: 47.10% (4 portfolios)
127.0.0.1 - - [28/Dec/2025 23:48:01] "POST /api/portfolio/save-metrics HTTP/1.1" 200 -
[STOCK] Fetching data for: EMR
[STOCK] Calling Finnhub with params: {'symbol': 'EMR', 'token': 'd4gdnt9r01qm5b354vmgd4gdnt9r01qm5b354vn0'}
[STOCK] Finnhub response status: 200
[STOCK] EMR - API response: {'c': 135.71, 'd': -0.59, 'dp': -0.4329, 'h': 136.237, 'l': 135.1233, 'o': 136.14, 'pc': 136.3, 't': 1766782800}
[STOCK] EMR - Raw values: c=135.71, pc=136.3, d=-0.59, dp=-0.4329
127.0.0.1 - - [28/Dec/2025 23:48:33] "GET /api/stock/EMR HTTP/1.1" 200 -
127.0.0.1 - - [28/Dec/2025 23:48:34] "POST /api/portfolio/save HTTP/1.1" 200 -
127.0.0.1 - - [28/Dec/2025 23:48:36] "POST /api/portfolio/last-sync HTTP/1.1" 200 -
127.0.0.1 - - [28/Dec/2025 23:48:36] "GET /api/stock/EMR/instant HTTP/1.1" 200 -
127.0.0.1 - - [28/Dec/2025 23:48:36] "GET /api/stock/GOOGL/instant HTTP/1.1" 200 -
Failed to get ticker 'GOOGL' reason: Expecting value: line 1 column 1 (char 0)
GOOGL: No timezone found, symbol may be delisted
127.0.0.1 - - [28/Dec/2025 23:48:36] "[33mGET /api/stock/GOOGL/history?from_date=2025-12-01 HTTP/1.1[0m" 404 -
Failed to get ticker 'EMR' reason: Expecting value: line 1 column 1 (char 0)
EMR: No timezone found, symbol may be delisted
127.0.0.1 - - [28/Dec/2025 23:48:38] "[33mGET /api/stock/EMR/history?from_date=2025-12-01 HTTP/1.1[0m" 404 -
[METRICS] Stored metrics for portfolio 27e4b6da-484e-45fe-b16f-51857467feea: 90.68%
[METRICS] Saved metrics for portfolio 27e4b6da-484e-45fe-b16f-51857467feea: {'total_value': 38136.5, 'total_invested': 20000.0, 'gain_loss': 18136.5, 'return_percentage': 90.6825}
[METRICS] Portfolio Portfolio1: value=39002.40, invested=26250.00, gain_loss=12752.40
[METRICS] Portfolio Portfolio 4: value=8686.80, invested=8100.00, gain_loss=586.80
[METRICS] Portfolio portfolio 2: value=38136.50, invested=20000.00, gain_loss=18136.50
[METRICS] Portfolio Portfolio 3: value=7176.80, invested=10262.00, gain_loss=-3085.20
[METRICS] Updated aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: 43.94% (4 portfolios)
127.0.0.1 - - [28/Dec/2025 23:48:39] "POST /api/portfolio/save-metrics HTTP/1.1" 200 -
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 74554.6, 'total_invested_all_portfolios': 47362.0, 'gain_loss_all_portfolios': 27192.6, 'aggregate_return_percentage': 57.41438283856256}
127.0.0.1 - - [28/Dec/2025 23:49:11] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 00:14:09] "[36mGET / HTTP/1.1[0m" 304 -
127.0.0.1 - - [29/Dec/2025 00:14:09] "[36mGET /css/styles.css HTTP/1.1[0m" 304 -
127.0.0.1 - - [29/Dec/2025 00:14:09] "GET /js/app.js HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 00:14:09] "[36mGET /js/modal.js HTTP/1.1[0m" 304 -
127.0.0.1 - - [29/Dec/2025 00:14:09] "[33mGET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1[0m" 404 -
127.0.0.1 - - [29/Dec/2025 00:14:21] "POST /api/portfolio/login HTTP/1.1" 200 -
[METRICS] Fetching cached metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 93002.5, 'total_invested_all_portfolios': 64612.0, 'gain_loss_all_portfolios': 28390.499999999996, 'aggregate_return_percentage': 43.93998018943849}
127.0.0.1 - - [29/Dec/2025 00:14:21] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
[METRICS] Calculated fresh aggregate: value=93002.50, invested=64612.00, gain_loss=28390.50, return=43.94%
[METRICS] Returning metrics for 4 portfolios
127.0.0.1 - - [29/Dec/2025 00:14:21] "POST /api/portfolios/metrics HTTP/1.1" 200 -
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 93002.5, 'total_invested_all_portfolios': 64612.0, 'gain_loss_all_portfolios': 28390.499999999996, 'aggregate_return_percentage': 43.93998018943849}
127.0.0.1 - - [29/Dec/2025 00:14:21] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 00:14:33] "GET /api/portfolio/details?portfolio_id=7c0c111b-158c-47d6-9f8e-bc0492259133 HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 00:14:33] "POST /api/portfolio/last-sync HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 00:14:34] "GET /api/stock/AAPL/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 00:14:34] "GET /api/stock/MCO/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 00:14:34] "GET /api/stock/DELL/instant HTTP/1.1" 200 -
Failed to get ticker 'AAPL' reason: Expecting value: line 1 column 1 (char 0)
AAPL: No timezone found, symbol may be delisted
127.0.0.1 - - [29/Dec/2025 00:14:35] "[33mGET /api/stock/AAPL/history?from_date=2025-12-01 HTTP/1.1[0m" 404 -
Failed to get ticker 'DELL' reason: Expecting value: line 1 column 1 (char 0)
DELL: No timezone found, symbol may be delisted
127.0.0.1 - - [29/Dec/2025 00:14:35] "[33mGET /api/stock/DELL/history?from_date=2025-12-01 HTTP/1.1[0m" 404 -
Failed to get ticker 'MCO' reason: Expecting value: line 1 column 1 (char 0)
MCO: No timezone found, symbol may be delisted
127.0.0.1 - - [29/Dec/2025 00:14:35] "[33mGET /api/stock/MCO/history?from_date=2025-12-01 HTTP/1.1[0m" 404 -
Retry 1/1 for get_last_close_price(AAPL): <ConnectionTerminated error_code:ErrorCodes.PROTOCOL_ERROR, last_stream_id:13, additional_data:None>
Retry 1/1 for get_last_close_price(DELL): <ConnectionTerminated error_code:ErrorCodes.PROTOCOL_ERROR, last_stream_id:13, additional_data:None>
Retry 1/1 for get_last_close_price(MCO): <ConnectionTerminated error_code:ErrorCodes.PROTOCOL_ERROR, last_stream_id:13, additional_data:None>
[METRICS] Stored metrics for portfolio 7c0c111b-158c-47d6-9f8e-bc0492259133: 48.58%
[METRICS] Saved metrics for portfolio 7c0c111b-158c-47d6-9f8e-bc0492259133: {'total_value': 39002.399999999994, 'total_invested': 26250.0, 'gain_loss': 12752.399999999994, 'return_percentage': 48.5805714285714}
[METRICS] Portfolio Portfolio1: value=39002.40, invested=26250.00, gain_loss=12752.40
[METRICS] Portfolio Portfolio 4: value=8686.80, invested=8100.00, gain_loss=586.80
[METRICS] Portfolio portfolio 2: value=38136.50, invested=20000.00, gain_loss=18136.50
[METRICS] Portfolio Portfolio 3: value=7176.80, invested=10262.00, gain_loss=-3085.20
[METRICS] Updated aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: 43.94% (4 portfolios)
127.0.0.1 - - [29/Dec/2025 00:14:35] "POST /api/portfolio/save-metrics HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 00:14:53] "POST /api/portfolio/save HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 00:14:54] "GET /api/stock/AAPL/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 00:14:54] "GET /api/stock/MCO/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 00:14:55] "GET /api/stock/DELL/instant HTTP/1.1" 200 -
[METRICS] Stored metrics for portfolio 7c0c111b-158c-47d6-9f8e-bc0492259133: 0.00%
[METRICS] Saved metrics for portfolio 7c0c111b-158c-47d6-9f8e-bc0492259133: {'total_value': 18750.0, 'total_invested': 18750.0, 'gain_loss': 0.0, 'return_percentage': 0.0}
[METRICS] Portfolio Portfolio 4: value=8686.80, invested=8100.00, gain_loss=586.80
[METRICS] Portfolio portfolio 2: value=38136.50, invested=20000.00, gain_loss=18136.50
[METRICS] Portfolio Portfolio1: value=18750.00, invested=18750.00, gain_loss=0.00
[METRICS] Portfolio Portfolio 3: value=7176.80, invested=10262.00, gain_loss=-3085.20
[METRICS] Updated aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: 27.38% (4 portfolios)
127.0.0.1 - - [29/Dec/2025 00:14:56] "POST /api/portfolio/save-metrics HTTP/1.1" 200 -
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 93002.5, 'total_invested_all_portfolios': 64612.0, 'gain_loss_all_portfolios': 28390.499999999996, 'aggregate_return_percentage': 43.93998018943849}
127.0.0.1 - - [29/Dec/2025 00:14:56] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 00:14:57] "POST /api/portfolio/last-sync HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 00:14:57] "GET /api/stock/MCO/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 00:14:57] "GET /api/stock/DELL/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 00:14:57] "GET /api/stock/AAPL/instant HTTP/1.1" 200 -
Failed to get ticker 'MCO' reason: Expecting value: line 1 column 1 (char 0)
MCO: No timezone found, symbol may be delisted
127.0.0.1 - - [29/Dec/2025 00:14:58] "[33mGET /api/stock/MCO/history?from_date=2025-12-01 HTTP/1.1[0m" 404 -
Failed to get ticker 'DELL' reason: Expecting value: line 1 column 1 (char 0)
DELL: No timezone found, symbol may be delisted
127.0.0.1 - - [29/Dec/2025 00:14:58] "[33mGET /api/stock/DELL/history?from_date=2025-12-01 HTTP/1.1[0m" 404 -
Failed to get ticker 'AAPL' reason: Expecting value: line 1 column 1 (char 0)
AAPL: No timezone found, symbol may be delisted
127.0.0.1 - - [29/Dec/2025 00:14:58] "[33mGET /api/stock/AAPL/history?from_date=2025-12-01 HTTP/1.1[0m" 404 -
[METRICS] Stored metrics for portfolio 7c0c111b-158c-47d6-9f8e-bc0492259133: 35.11%
[METRICS] Saved metrics for portfolio 7c0c111b-158c-47d6-9f8e-bc0492259133: {'total_value': 25332.399999999998, 'total_invested': 18750.0, 'gain_loss': 6582.399999999998, 'return_percentage': 35.106133333333325}
[METRICS] Portfolio Portfolio 4: value=8686.80, invested=8100.00, gain_loss=586.80
[METRICS] Portfolio portfolio 2: value=38136.50, invested=20000.00, gain_loss=18136.50
[METRICS] Portfolio Portfolio1: value=25332.40, invested=18750.00, gain_loss=6582.40
[METRICS] Portfolio Portfolio 3: value=7176.80, invested=10262.00, gain_loss=-3085.20
[METRICS] Updated aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: 38.91% (4 portfolios)
127.0.0.1 - - [29/Dec/2025 00:14:59] "POST /api/portfolio/save-metrics HTTP/1.1" 200 -
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 93002.5, 'total_invested_all_portfolios': 64612.0, 'gain_loss_all_portfolios': 28390.499999999996, 'aggregate_return_percentage': 43.93998018943849}
127.0.0.1 - - [29/Dec/2025 00:15:02] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 00:15:25] "GET /api/portfolio/details?portfolio_id=e5995861-8ac4-4c5a-a33d-d8fc4501d758 HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 00:15:25] "POST /api/portfolio/last-sync HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 00:15:26] "GET /api/stock/MDT/instant HTTP/1.1" 200 -
Failed to get ticker 'MDT' reason: Expecting value: line 1 column 1 (char 0)
MDT: No timezone found, symbol may be delisted
127.0.0.1 - - [29/Dec/2025 00:15:26] "[33mGET /api/stock/MDT/history?from_date=2025-12-01 HTTP/1.1[0m" 404 -
[METRICS] Stored metrics for portfolio e5995861-8ac4-4c5a-a33d-d8fc4501d758: 7.24%
[METRICS] Saved metrics for portfolio e5995861-8ac4-4c5a-a33d-d8fc4501d758: {'total_value': 8686.8, 'total_invested': 8100.0, 'gain_loss': 586.7999999999993, 'return_percentage': 7.244444444444436}
[METRICS] Portfolio Portfolio 4: value=8686.80, invested=8100.00, gain_loss=586.80
[METRICS] Portfolio portfolio 2: value=38136.50, invested=20000.00, gain_loss=18136.50
[METRICS] Portfolio Portfolio1: value=25332.40, invested=18750.00, gain_loss=6582.40
[METRICS] Portfolio Portfolio 3: value=7176.80, invested=10262.00, gain_loss=-3085.20
[METRICS] Updated aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: 38.91% (4 portfolios)
127.0.0.1 - - [29/Dec/2025 00:15:26] "POST /api/portfolio/save-metrics HTTP/1.1" 200 -
[STOCK] Fetching data for: TFC
[STOCK] Calling Finnhub with params: {'symbol': 'TFC', 'token': 'd4gdnt9r01qm5b354vmgd4gdnt9r01qm5b354vn0'}
[STOCK] Finnhub response status: 200
[STOCK] TFC - API response: {'c': 50.61, 'd': -0.13, 'dp': -0.2562, 'h': 50.8, 'l': 50.375, 'o': 50.75, 'pc': 50.74, 't': 1766782800}
[STOCK] TFC - Raw values: c=50.61, pc=50.74, d=-0.13, dp=-0.2562
127.0.0.1 - - [29/Dec/2025 00:16:01] "GET /api/stock/TFC HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 00:16:02] "POST /api/portfolio/save HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 00:16:02] "GET /api/stock/MDT/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 00:16:03] "GET /api/stock/TFC/instant HTTP/1.1" 200 -
[METRICS] Stored metrics for portfolio e5995861-8ac4-4c5a-a33d-d8fc4501d758: 0.00%
[METRICS] Saved metrics for portfolio e5995861-8ac4-4c5a-a33d-d8fc4501d758: {'total_value': 14850.0, 'total_invested': 14850.0, 'gain_loss': 0.0, 'return_percentage': 0.0}
[METRICS] Portfolio Portfolio 4: value=14850.00, invested=14850.00, gain_loss=0.00
[METRICS] Portfolio portfolio 2: value=38136.50, invested=20000.00, gain_loss=18136.50
[METRICS] Portfolio Portfolio1: value=25332.40, invested=18750.00, gain_loss=6582.40
[METRICS] Portfolio Portfolio 3: value=7176.80, invested=10262.00, gain_loss=-3085.20
[METRICS] Updated aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: 33.88% (4 portfolios)
127.0.0.1 - - [29/Dec/2025 00:16:04] "POST /api/portfolio/save-metrics HTTP/1.1" 200 -
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 93002.5, 'total_invested_all_portfolios': 64612.0, 'gain_loss_all_portfolios': 28390.499999999996, 'aggregate_return_percentage': 43.93998018943849}
127.0.0.1 - - [29/Dec/2025 00:16:04] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 00:16:06] "POST /api/portfolio/last-sync HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 00:16:07] "GET /api/stock/MDT/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 00:16:07] "GET /api/stock/TFC/instant HTTP/1.1" 200 -
Failed to get ticker 'MDT' reason: Expecting value: line 1 column 1 (char 0)
MDT: No timezone found, symbol may be delisted
127.0.0.1 - - [29/Dec/2025 00:16:07] "[33mGET /api/stock/MDT/history?from_date=2025-12-01 HTTP/1.1[0m" 404 -
Failed to get ticker 'TFC' reason: Expecting value: line 1 column 1 (char 0)
TFC: No timezone found, symbol may be delisted
127.0.0.1 - - [29/Dec/2025 00:16:08] "[33mGET /api/stock/TFC/history?from_date=2025-12-01 HTTP/1.1[0m" 404 -
[METRICS] Stored metrics for portfolio e5995861-8ac4-4c5a-a33d-d8fc4501d758: 9.62%
[METRICS] Saved metrics for portfolio e5995861-8ac4-4c5a-a33d-d8fc4501d758: {'total_value': 16278.3, 'total_invested': 14850.0, 'gain_loss': 1428.2999999999993, 'return_percentage': 9.618181818181814}
[METRICS] Portfolio Portfolio 4: value=16278.30, invested=14850.00, gain_loss=1428.30
[METRICS] Portfolio portfolio 2: value=38136.50, invested=20000.00, gain_loss=18136.50
[METRICS] Portfolio Portfolio1: value=25332.40, invested=18750.00, gain_loss=6582.40
[METRICS] Portfolio Portfolio 3: value=7176.80, invested=10262.00, gain_loss=-3085.20
[METRICS] Updated aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: 36.11% (4 portfolios)
127.0.0.1 - - [29/Dec/2025 00:16:09] "POST /api/portfolio/save-metrics HTTP/1.1" 200 -
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 93002.5, 'total_invested_all_portfolios': 64612.0, 'gain_loss_all_portfolios': 28390.499999999996, 'aggregate_return_percentage': 43.93998018943849}
127.0.0.1 - - [29/Dec/2025 00:16:20] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 00:21:38] "GET / HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 00:21:38] "GET /css/styles.css HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 00:21:38] "GET /js/modal.js HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 00:21:38] "GET /js/app.js HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 00:21:38] "[33mGET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1[0m" 404 -
127.0.0.1 - - [29/Dec/2025 00:21:39] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
127.0.0.1 - - [29/Dec/2025 00:21:45] "POST /api/portfolio/login HTTP/1.1" 200 -
[METRICS] Fetching cached metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 86924.00000000001, 'total_invested_all_portfolios': 63862.0, 'gain_loss_all_portfolios': 23061.999999999996, 'aggregate_return_percentage': 36.11224202185963}
127.0.0.1 - - [29/Dec/2025 00:21:46] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
[METRICS] Calculated fresh aggregate: value=86924.00, invested=63862.00, gain_loss=23062.00, return=36.11%
[METRICS] Returning metrics for 4 portfolios
127.0.0.1 - - [29/Dec/2025 00:21:46] "POST /api/portfolios/metrics HTTP/1.1" 200 -
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 86924.00000000001, 'total_invested_all_portfolios': 63862.0, 'gain_loss_all_portfolios': 23061.999999999996, 'aggregate_return_percentage': 36.11224202185963}
127.0.0.1 - - [29/Dec/2025 00:21:46] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 00:21:59] "GET /api/portfolio/details?portfolio_id=7c0c111b-158c-47d6-9f8e-bc0492259133 HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 00:21:59] "POST /api/portfolio/last-sync HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 00:22:00] "GET /api/stock/AAPL/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 00:22:00] "GET /api/stock/DELL/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 00:22:00] "GET /api/stock/MCO/instant HTTP/1.1" 200 -
Failed to get ticker 'MCO' reason: Expecting value: line 1 column 1 (char 0)
MCO: No timezone found, symbol may be delisted
127.0.0.1 - - [29/Dec/2025 00:22:00] "[33mGET /api/stock/MCO/history?from_date=2025-12-01 HTTP/1.1[0m" 404 -
Failed to get ticker 'AAPL' reason: Expecting value: line 1 column 1 (char 0)
AAPL: No timezone found, symbol may be delisted
127.0.0.1 - - [29/Dec/2025 00:22:00] "[33mGET /api/stock/AAPL/history?from_date=2025-12-01 HTTP/1.1[0m" 404 -
Failed to get ticker 'DELL' reason: Expecting value: line 1 column 1 (char 0)
DELL: No timezone found, symbol may be delisted
127.0.0.1 - - [29/Dec/2025 00:22:00] "[33mGET /api/stock/DELL/history?from_date=2025-12-01 HTTP/1.1[0m" 404 -
[METRICS] Stored metrics for portfolio 7c0c111b-158c-47d6-9f8e-bc0492259133: 35.11%
[METRICS] Saved metrics for portfolio 7c0c111b-158c-47d6-9f8e-bc0492259133: {'total_value': 25332.399999999998, 'total_invested': 18750.0, 'gain_loss': 6582.399999999998, 'return_percentage': 35.106133333333325}
[METRICS] Portfolio Portfolio 4: value=16278.30, invested=14850.00, gain_loss=1428.30
[METRICS] Portfolio portfolio 2: value=38136.50, invested=20000.00, gain_loss=18136.50
[METRICS] Portfolio Portfolio1: value=25332.40, invested=18750.00, gain_loss=6582.40
[METRICS] Portfolio Portfolio 3: value=7176.80, invested=10262.00, gain_loss=-3085.20
[METRICS] Updated aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: 36.11% (4 portfolios)
127.0.0.1 - - [29/Dec/2025 00:22:01] "POST /api/portfolio/save-metrics HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 00:22:17] "GET /api/modals/delete_position HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 00:22:19] "POST /api/portfolio/save HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 00:22:19] "GET /api/stock/AAPL/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 00:22:20] "GET /api/stock/DELL/instant HTTP/1.1" 200 -
[MODAL] Fetching modal config for: delete_position
[MODAL] Successfully fetched modal config for: delete_position
[METRICS] Stored metrics for portfolio 7c0c111b-158c-47d6-9f8e-bc0492259133: 0.00%
[METRICS] Saved metrics for portfolio 7c0c111b-158c-47d6-9f8e-bc0492259133: {'total_value': 13250.0, 'total_invested': 13250.0, 'gain_loss': 0.0, 'return_percentage': 0.0}
[METRICS] Portfolio Portfolio 4: value=16278.30, invested=14850.00, gain_loss=1428.30
[METRICS] Portfolio Portfolio1: value=13250.00, invested=13250.00, gain_loss=0.00
[METRICS] Portfolio portfolio 2: value=38136.50, invested=20000.00, gain_loss=18136.50
[METRICS] Portfolio Portfolio 3: value=7176.80, invested=10262.00, gain_loss=-3085.20
[METRICS] Updated aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: 28.24% (4 portfolios)
127.0.0.1 - - [29/Dec/2025 00:22:21] "POST /api/portfolio/save-metrics HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 00:22:21] "DELETE /api/portfolio/delete-historical/MCO HTTP/1.1" 200 -
âœ“ Deleted historical data for MCO from Supabase
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 74841.6, 'total_invested_all_portfolios': 58362.0, 'gain_loss_all_portfolios': 16479.6, 'aggregate_return_percentage': 28.23686645419965}
127.0.0.1 - - [29/Dec/2025 00:22:21] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 00:22:21] "POST /api/portfolio/last-sync HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 00:22:21] "GET /api/stock/DELL/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 00:22:21] "GET /api/stock/AAPL/instant HTTP/1.1" 200 -
Failed to get ticker 'AAPL' reason: Expecting value: line 1 column 1 (char 0)
AAPL: No timezone found, symbol may be delisted
127.0.0.1 - - [29/Dec/2025 00:22:22] "[33mGET /api/stock/AAPL/history?from_date=2025-12-01 HTTP/1.1[0m" 404 -
Failed to get ticker 'DELL' reason: Expecting value: line 1 column 1 (char 0)
DELL: No timezone found, symbol may be delisted
127.0.0.1 - - [29/Dec/2025 00:22:22] "[33mGET /api/stock/DELL/history?from_date=2025-12-01 HTTP/1.1[0m" 404 -
Error retrieving last close price for AAPL: [Errno 35] Resource temporarily unavailable
Error retrieving last close price for DELL: [Errno 35] Resource temporarily unavailable
[METRICS] Stored metrics for portfolio 7c0c111b-158c-47d6-9f8e-bc0492259133: 51.94%
[METRICS] Saved metrics for portfolio 7c0c111b-158c-47d6-9f8e-bc0492259133: {'total_value': 20132.0, 'total_invested': 13250.0, 'gain_loss': 6882.0, 'return_percentage': 51.93962264150943}
[METRICS] Portfolio Portfolio 4: value=16278.30, invested=14850.00, gain_loss=1428.30
[METRICS] Portfolio Portfolio1: value=20132.00, invested=13250.00, gain_loss=6882.00
[METRICS] Portfolio portfolio 2: value=38136.50, invested=20000.00, gain_loss=18136.50
[METRICS] Portfolio Portfolio 3: value=7176.80, invested=10262.00, gain_loss=-3085.20
[METRICS] Updated aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: 40.03% (4 portfolios)
127.0.0.1 - - [29/Dec/2025 00:22:22] "POST /api/portfolio/save-metrics HTTP/1.1" 200 -
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 81723.6, 'total_invested_all_portfolios': 58362.0, 'gain_loss_all_portfolios': 23361.6, 'aggregate_return_percentage': 40.028785853808984}
127.0.0.1 - - [29/Dec/2025 00:22:30] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 00:22:42] "GET /api/portfolio/details?portfolio_id=6b4ab30d-6002-4404-bb44-2726a48c5c1c HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 00:22:42] "POST /api/portfolio/last-sync HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 00:22:42] "GET /api/stock/MROL.XC/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 00:22:42] "GET /api/stock/AAL/instant HTTP/1.1" 200 -
Failed to get ticker 'MROL.XC' reason: Expecting value: line 1 column 1 (char 0)
MROL.XC: No timezone found, symbol may be delisted
127.0.0.1 - - [29/Dec/2025 00:22:44] "[33mGET /api/stock/MROL.XC/history?from_date=2025-12-01 HTTP/1.1[0m" 404 -
Failed to get ticker 'AAL' reason: Expecting value: line 1 column 1 (char 0)
AAL: No timezone found, symbol may be delisted
127.0.0.1 - - [29/Dec/2025 00:22:44] "[33mGET /api/stock/AAL/history?from_date=2025-12-01 HTTP/1.1[0m" 404 -
[METRICS] Stored metrics for portfolio 6b4ab30d-6002-4404-bb44-2726a48c5c1c: -30.06%
[METRICS] Saved metrics for portfolio 6b4ab30d-6002-4404-bb44-2726a48c5c1c: {'total_value': 7176.8, 'total_invested': 10262.0, 'gain_loss': -3085.2, 'return_percentage': -30.064314948353143}
[METRICS] Portfolio Portfolio 4: value=16278.30, invested=14850.00, gain_loss=1428.30
[METRICS] Portfolio Portfolio1: value=20132.00, invested=13250.00, gain_loss=6882.00
[METRICS] Portfolio portfolio 2: value=38136.50, invested=20000.00, gain_loss=18136.50
[METRICS] Portfolio Portfolio 3: value=7176.80, invested=10262.00, gain_loss=-3085.20
[METRICS] Updated aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: 40.03% (4 portfolios)
127.0.0.1 - - [29/Dec/2025 00:22:45] "POST /api/portfolio/save-metrics HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 00:23:18] "POST /api/portfolio/save HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 00:23:19] "GET /api/stock/AAL/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 00:23:20] "GET /api/stock/MROL.XC/instant HTTP/1.1" 200 -
[METRICS] Stored metrics for portfolio 6b4ab30d-6002-4404-bb44-2726a48c5c1c: 0.00%
[METRICS] Saved metrics for portfolio 6b4ab30d-6002-4404-bb44-2726a48c5c1c: {'total_value': 8832.0, 'total_invested': 8832.0, 'gain_loss': 0.0, 'return_percentage': 0.0}
[METRICS] Portfolio Portfolio 4: value=16278.30, invested=14850.00, gain_loss=1428.30
[METRICS] Portfolio Portfolio1: value=20132.00, invested=13250.00, gain_loss=6882.00
[METRICS] Portfolio Portfolio 3: value=8832.00, invested=8832.00, gain_loss=0.00
[METRICS] Portfolio portfolio 2: value=38136.50, invested=20000.00, gain_loss=18136.50
[METRICS] Updated aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: 46.45% (4 portfolios)
127.0.0.1 - - [29/Dec/2025 00:23:20] "POST /api/portfolio/save-metrics HTTP/1.1" 200 -
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 83378.8, 'total_invested_all_portfolios': 56932.0, 'gain_loss_all_portfolios': 26446.8, 'aggregate_return_percentage': 46.45331272395138}
127.0.0.1 - - [29/Dec/2025 00:23:21] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 00:23:22] "POST /api/portfolio/last-sync HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 00:23:22] "GET /api/stock/AAL/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 00:23:22] "GET /api/stock/MROL.XC/instant HTTP/1.1" 200 -
Failed to get ticker 'MROL.XC' reason: Expecting value: line 1 column 1 (char 0)
MROL.XC: No timezone found, symbol may be delisted
127.0.0.1 - - [29/Dec/2025 00:23:22] "[33mGET /api/stock/MROL.XC/history?from_date=2025-12-01 HTTP/1.1[0m" 404 -
Failed to get ticker 'AAL' reason: Expecting value: line 1 column 1 (char 0)
AAL: No timezone found, symbol may be delisted
127.0.0.1 - - [29/Dec/2025 00:23:22] "[33mGET /api/stock/AAL/history?from_date=2025-12-01 HTTP/1.1[0m" 404 -
[METRICS] Stored metrics for portfolio 6b4ab30d-6002-4404-bb44-2726a48c5c1c: -18.74%
[METRICS] Saved metrics for portfolio 6b4ab30d-6002-4404-bb44-2726a48c5c1c: {'total_value': 7176.8, 'total_invested': 8832.0, 'gain_loss': -1655.1999999999998, 'return_percentage': -18.740942028985504}
[METRICS] Portfolio Portfolio 4: value=16278.30, invested=14850.00, gain_loss=1428.30
[METRICS] Portfolio Portfolio1: value=20132.00, invested=13250.00, gain_loss=6882.00
[METRICS] Portfolio Portfolio 3: value=7176.80, invested=8832.00, gain_loss=-1655.20
[METRICS] Portfolio portfolio 2: value=38136.50, invested=20000.00, gain_loss=18136.50
[METRICS] Updated aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: 43.55% (4 portfolios)
127.0.0.1 - - [29/Dec/2025 00:23:23] "POST /api/portfolio/save-metrics HTTP/1.1" 200 -
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 81723.6, 'total_invested_all_portfolios': 56932.0, 'gain_loss_all_portfolios': 24791.6, 'aggregate_return_percentage': 43.54598468348205}
127.0.0.1 - - [29/Dec/2025 00:23:31] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 00:23:40] "GET /api/portfolio/details?portfolio_id=e5995861-8ac4-4c5a-a33d-d8fc4501d758 HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 00:23:40] "POST /api/portfolio/last-sync HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 00:23:41] "GET /api/stock/TFC/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 00:23:41] "GET /api/stock/MDT/instant HTTP/1.1" 200 -
Failed to get ticker 'TFC' reason: Expecting value: line 1 column 1 (char 0)
TFC: No timezone found, symbol may be delisted
127.0.0.1 - - [29/Dec/2025 00:23:41] "[33mGET /api/stock/TFC/history?from_date=2025-12-01 HTTP/1.1[0m" 404 -
Failed to get ticker 'MDT' reason: Expecting value: line 1 column 1 (char 0)
MDT: No timezone found, symbol may be delisted
127.0.0.1 - - [29/Dec/2025 00:23:41] "[33mGET /api/stock/MDT/history?from_date=2025-12-01 HTTP/1.1[0m" 404 -
Retry 1/1 for get_last_close_price(TFC): <ConnectionTerminated error_code:ErrorCodes.COMPRESSION_ERROR, last_stream_id:9, additional_data:None>
Retry 1/1 for get_last_close_price(MDT): <ConnectionTerminated error_code:ErrorCodes.COMPRESSION_ERROR, last_stream_id:9, additional_data:None>
[METRICS] Stored metrics for portfolio e5995861-8ac4-4c5a-a33d-d8fc4501d758: 9.62%
[METRICS] Saved metrics for portfolio e5995861-8ac4-4c5a-a33d-d8fc4501d758: {'total_value': 16278.3, 'total_invested': 14850.0, 'gain_loss': 1428.2999999999993, 'return_percentage': 9.618181818181814}
[METRICS] Portfolio Portfolio 4: value=16278.30, invested=14850.00, gain_loss=1428.30
[METRICS] Portfolio Portfolio1: value=20132.00, invested=13250.00, gain_loss=6882.00
[METRICS] Portfolio Portfolio 3: value=7176.80, invested=8832.00, gain_loss=-1655.20
[METRICS] Portfolio portfolio 2: value=38136.50, invested=20000.00, gain_loss=18136.50
[METRICS] Updated aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: 43.55% (4 portfolios)
127.0.0.1 - - [29/Dec/2025 00:23:42] "POST /api/portfolio/save-metrics HTTP/1.1" 200 -
[STOCK] Fetching data for: CBRE
[STOCK] Calling Finnhub with params: {'symbol': 'CBRE', 'token': 'd4gdnt9r01qm5b354vmgd4gdnt9r01qm5b354vn0'}
[STOCK] Finnhub response status: 200
[STOCK] CBRE - API response: {'c': 164.71, 'd': -0.23, 'dp': -0.1394, 'h': 165.345, 'l': 164.25, 'o': 164.9, 'pc': 164.94, 't': 1766782800}
[STOCK] CBRE - Raw values: c=164.71, pc=164.94, d=-0.23, dp=-0.1394
127.0.0.1 - - [29/Dec/2025 00:24:06] "GET /api/stock/CBRE HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 00:24:07] "POST /api/portfolio/save HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 00:24:07] "GET /api/stock/MDT/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 00:24:08] "GET /api/stock/TFC/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 00:24:08] "GET /api/stock/CBRE/instant HTTP/1.1" 200 -
[METRICS] Stored metrics for portfolio e5995861-8ac4-4c5a-a33d-d8fc4501d758: 0.00%
[METRICS] Saved metrics for portfolio e5995861-8ac4-4c5a-a33d-d8fc4501d758: {'total_value': 29350.0, 'total_invested': 29350.0, 'gain_loss': 0.0, 'return_percentage': 0.0}
[METRICS] Portfolio Portfolio1: value=20132.00, invested=13250.00, gain_loss=6882.00
[METRICS] Portfolio Portfolio 3: value=7176.80, invested=8832.00, gain_loss=-1655.20
[METRICS] Portfolio Portfolio 4: value=29350.00, invested=29350.00, gain_loss=0.00
[METRICS] Portfolio portfolio 2: value=38136.50, invested=20000.00, gain_loss=18136.50
[METRICS] Updated aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: 32.71% (4 portfolios)
127.0.0.1 - - [29/Dec/2025 00:24:09] "POST /api/portfolio/save-metrics HTTP/1.1" 200 -
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 94795.3, 'total_invested_all_portfolios': 71432.0, 'gain_loss_all_portfolios': 23363.3, 'aggregate_return_percentage': 32.707050061597045}
127.0.0.1 - - [29/Dec/2025 00:24:09] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 00:24:11] "POST /api/portfolio/last-sync HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 00:24:12] "GET /api/stock/MDT/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 00:24:12] "GET /api/stock/TFC/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 00:24:12] "GET /api/stock/CBRE/instant HTTP/1.1" 200 -
Failed to get ticker 'TFC' reason: Expecting value: line 1 column 1 (char 0)
TFC: No timezone found, symbol may be delisted
127.0.0.1 - - [29/Dec/2025 00:24:12] "[33mGET /api/stock/TFC/history?from_date=2025-12-01 HTTP/1.1[0m" 404 -
Failed to get ticker 'MDT' reason: Expecting value: line 1 column 1 (char 0)
MDT: No timezone found, symbol may be delisted
127.0.0.1 - - [29/Dec/2025 00:24:12] "[33mGET /api/stock/MDT/history?from_date=2025-12-01 HTTP/1.1[0m" 404 -
Failed to get ticker 'CBRE' reason: Expecting value: line 1 column 1 (char 0)
CBRE: No timezone found, symbol may be delisted
127.0.0.1 - - [29/Dec/2025 00:24:13] "[33mGET /api/stock/CBRE/history?from_date=2025-12-01 HTTP/1.1[0m" 404 -
[METRICS] Stored metrics for portfolio e5995861-8ac4-4c5a-a33d-d8fc4501d758: 11.58%
[METRICS] Saved metrics for portfolio e5995861-8ac4-4c5a-a33d-d8fc4501d758: {'total_value': 32749.3, 'total_invested': 29350.0, 'gain_loss': 3399.2999999999993, 'return_percentage': 11.581942078364563}
[METRICS] Portfolio Portfolio1: value=20132.00, invested=13250.00, gain_loss=6882.00
[METRICS] Portfolio Portfolio 3: value=7176.80, invested=8832.00, gain_loss=-1655.20
[METRICS] Portfolio Portfolio 4: value=32749.30, invested=29350.00, gain_loss=3399.30
[METRICS] Portfolio portfolio 2: value=38136.50, invested=20000.00, gain_loss=18136.50
[METRICS] Updated aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: 37.47% (4 portfolios)
127.0.0.1 - - [29/Dec/2025 00:24:14] "POST /api/portfolio/save-metrics HTTP/1.1" 200 -
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 98194.6, 'total_invested_all_portfolios': 71432.0, 'gain_loss_all_portfolios': 26762.6, 'aggregate_return_percentage': 37.4658416396013}
127.0.0.1 - - [29/Dec/2025 00:24:30] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 17:01:05] "[36mGET / HTTP/1.1[0m" 304 -
127.0.0.1 - - [29/Dec/2025 17:01:06] "[33mGET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1[0m" 404 -
127.0.0.1 - - [29/Dec/2025 17:01:06] "[36mGET /css/styles.css HTTP/1.1[0m" 304 -
127.0.0.1 - - [29/Dec/2025 17:01:06] "[36mGET /js/modal.js HTTP/1.1[0m" 304 -
127.0.0.1 - - [29/Dec/2025 17:01:06] "[36mGET /js/app.js HTTP/1.1[0m" 304 -
127.0.0.1 - - [29/Dec/2025 17:01:19] "POST /api/portfolio/login HTTP/1.1" 200 -
[METRICS] Fetching cached metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22
[METRICS] Error fetching metrics: [Errno 35] Resource temporarily unavailable
[AGGREGATE] Error saving aggregate metrics: [Errno 35] Resource temporarily unavailable
Traceback (most recent call last):
Traceback (most recent call last):
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpx/_transports/default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpx/_transports/default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/connection_pool.py", line 256, in handle_request
    raise exc from None
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/connection_pool.py", line 256, in handle_request
    raise exc from None
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 187, in handle_request
    raise exc
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 187, in handle_request
    raise exc
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 150, in handle_request
    status, headers = self._receive_response(
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 150, in handle_request
    status, headers = self._receive_response(
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 294, in _receive_response
    event = self._receive_stream_event(request, stream_id)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 294, in _receive_response
    event = self._receive_stream_event(request, stream_id)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 336, in _receive_stream_event
    self._receive_events(request, stream_id)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 336, in _receive_stream_event
    self._receive_events(request, stream_id)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 364, in _receive_events
    events = self._read_incoming_data(request)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 364, in _receive_events
    events = self._read_incoming_data(request)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 438, in _read_incoming_data
    raise self._read_exception  # pragma: nocover
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 438, in _read_incoming_data
    raise self._read_exception  # pragma: nocover
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpx/_transports/default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpx/_transports/default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/connection_pool.py", line 256, in handle_request
    raise exc from None
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/connection_pool.py", line 256, in handle_request
    raise exc from None
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 187, in handle_request
    raise exc
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 187, in handle_request
    raise exc
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 150, in handle_request
    status, headers = self._receive_response(
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 150, in handle_request
    status, headers = self._receive_response(
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 294, in _receive_response
    event = self._receive_stream_event(request, stream_id)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 294, in _receive_response
    event = self._receive_stream_event(request, stream_id)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 336, in _receive_stream_event
    self._receive_events(request, stream_id)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 336, in _receive_stream_event
    self._receive_events(request, stream_id)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 364, in _receive_events
    events = self._read_incoming_data(request)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 364, in _receive_events
    events = self._read_incoming_data(request)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 455, in _read_incoming_data
    raise exc
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 455, in _read_incoming_data
    raise exc
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 441, in _read_incoming_data
    data = self._network_stream.read(self.READ_NUM_BYTES, timeout)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 441, in _read_incoming_data
    data = self._network_stream.read(self.READ_NUM_BYTES, timeout)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_backends/sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_backends/sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ReadError: [Errno 35] Resource temporarily unavailable
httpcore.ReadError: [Errno 35] Resource temporarily unavailable

The above exception was the direct cause of the following exception:


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
Traceback (most recent call last):
  File "/Users/ant/Desktop/StockVisualiser/app.py", line 2684, in get_cached_portfolio_metrics
    portfolios_response = supabase.table('portfolios').select(
  File "/Users/ant/Desktop/StockVisualiser/app.py", line 2867, in save_user_aggregate_metrics
    supabase.table('user_aggregate_metrics').update({
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/postgrest/_sync/request_builder.py", line 47, in execute
    r = self.request.send()
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/postgrest/_sync/request_builder.py", line 47, in execute
    r = self.request.send()
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/postgrest/base_request_builder.py", line 81, in send
    return self.session.request(
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/postgrest/base_request_builder.py", line 81, in send
    return self.session.request(
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpx/_client.py", line 825, in request
    return self.send(request, auth=auth, follow_redirects=follow_redirects)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpx/_client.py", line 825, in request
    return self.send(request, auth=auth, follow_redirects=follow_redirects)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpx/_client.py", line 914, in send
    response = self._send_handling_auth(
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpx/_client.py", line 914, in send
    response = self._send_handling_auth(
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpx/_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpx/_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpx/_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpx/_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpx/_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpx/_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpx/_transports/default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpx/_transports/default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ReadError: [Errno 35] Resource temporarily unavailable
httpx.ReadError: [Errno 35] Resource temporarily unavailable
127.0.0.1 - - [29/Dec/2025 17:01:19] "[35m[1mPOST /api/portfolios/metrics HTTP/1.1[0m" 500 -
127.0.0.1 - - [29/Dec/2025 17:01:19] "[35m[1mPOST /api/user/aggregate-metrics HTTP/1.1[0m" 500 -
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 98194.6, 'total_invested_all_portfolios': 71432.0, 'gain_loss_all_portfolios': 26762.6, 'aggregate_return_percentage': 37.4658416396013}
127.0.0.1 - - [29/Dec/2025 17:01:19] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 17:01:22] "GET /api/modals/add_portfolio HTTP/1.1" 200 -
[MODAL] Fetching modal config for: add_portfolio
[MODAL] Successfully fetched modal config for: add_portfolio

[DEBUG] POST /api/user/portfolios - Request received
[DEBUG] Content-Type: application/json
[DEBUG] Has session_token cookie: True
[DEBUG] User ID from session: ffff0940-03d5-4ecf-9c1f-57e0bc176a22
[DEBUG] Request JSON data: {'portfolio_name': 'Portfolio 5'}
[DEBUG] Portfolio name from request: Portfolio 5
[CREATE] Creating portfolio 'Portfolio 5' for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22
[DEBUG] Fetching user details for user_id: ffff0940-03d5-4ecf-9c1f-57e0bc176a22
[DEBUG] User details - username: testlocal1, password_hash: True
[DEBUG] Added username to portfolio data: testlocal1
[DEBUG] Added password_hash to portfolio data
[DEBUG] Inserting portfolio data: {'user_id': 'ffff0940-03d5-4ecf-9c1f-57e0bc176a22', 'portfolio_name': 'Portfolio 5', 'positions': [], 'is_default': False, 'created_at': '2025-12-29T17:01:31.725899', 'updated_at': '2025-12-29T17:01:31.725923', 'username': 'testlocal1', 'password_hash': 'e62ddbeb81c18e1dc3cd32930cd530787cb780c5b70522c92f32e6a365d09298'}
[DEBUG] Insert response: [{'id': 'b7065a24-56a0-4938-ba5a-c447f3a227f5', 'username': 'testlocal1', 'password_hash': 'e62ddbeb81c18e1dc3cd32930cd530787cb780c5b70522c92f32e6a365d09298', 'portfolio_name': 'Portfolio 5', 'positions': [], 'created_at': '2025-12-29T17:01:31.725899+00:00', 'updated_at': '2025-12-29T17:01:31.725923+00:00', 'user_id': 'ffff0940-03d5-4ecf-9c1f-57e0bc176a22', 'is_default': False}]
[SUCCESS] Portfolio created: b7065a24-56a0-4938-ba5a-c447f3a227f5
127.0.0.1 - - [29/Dec/2025 17:01:31] "POST /api/user/portfolios HTTP/1.1" 200 -
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 98194.6, 'total_invested_all_portfolios': 71432.0, 'gain_loss_all_portfolios': 26762.6, 'aggregate_return_percentage': 37.4658416396013}
127.0.0.1 - - [29/Dec/2025 17:01:32] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 17:07:15] "[36mGET / HTTP/1.1[0m" 304 -
127.0.0.1 - - [29/Dec/2025 17:07:15] "[36mGET /js/modal.js HTTP/1.1[0m" 304 -
127.0.0.1 - - [29/Dec/2025 17:07:15] "GET /css/styles.css HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 17:07:15] "GET /js/app.js HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 17:07:15] "[33mGET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1[0m" 404 -
127.0.0.1 - - [29/Dec/2025 17:07:28] "POST /api/portfolio/login HTTP/1.1" 200 -
[METRICS] Fetching cached metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 98194.6, 'total_invested_all_portfolios': 71432.0, 'gain_loss_all_portfolios': 26762.6, 'aggregate_return_percentage': 37.4658416396013}
127.0.0.1 - - [29/Dec/2025 17:07:28] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
[METRICS] Calculated fresh aggregate: value=98194.60, invested=71432.00, gain_loss=26762.60, return=37.47%
[METRICS] Returning metrics for 5 portfolios
127.0.0.1 - - [29/Dec/2025 17:07:29] "POST /api/portfolios/metrics HTTP/1.1" 200 -
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 98194.6, 'total_invested_all_portfolios': 71432.0, 'gain_loss_all_portfolios': 26762.6, 'aggregate_return_percentage': 37.4658416396013}
127.0.0.1 - - [29/Dec/2025 17:07:29] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 98194.6, 'total_invested_all_portfolios': 71432.0, 'gain_loss_all_portfolios': 26762.6, 'aggregate_return_percentage': 37.4658416396013}
127.0.0.1 - - [29/Dec/2025 17:07:34] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 98194.6, 'total_invested_all_portfolios': 71432.0, 'gain_loss_all_portfolios': 26762.6, 'aggregate_return_percentage': 37.4658416396013}
127.0.0.1 - - [29/Dec/2025 17:07:35] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 98194.6, 'total_invested_all_portfolios': 71432.0, 'gain_loss_all_portfolios': 26762.6, 'aggregate_return_percentage': 37.4658416396013}
127.0.0.1 - - [29/Dec/2025 17:07:39] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 98194.6, 'total_invested_all_portfolios': 71432.0, 'gain_loss_all_portfolios': 26762.6, 'aggregate_return_percentage': 37.4658416396013}
127.0.0.1 - - [29/Dec/2025 17:07:40] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 98194.6, 'total_invested_all_portfolios': 71432.0, 'gain_loss_all_portfolios': 26762.6, 'aggregate_return_percentage': 37.4658416396013}
127.0.0.1 - - [29/Dec/2025 17:07:42] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 98194.6, 'total_invested_all_portfolios': 71432.0, 'gain_loss_all_portfolios': 26762.6, 'aggregate_return_percentage': 37.4658416396013}
127.0.0.1 - - [29/Dec/2025 17:07:43] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 98194.6, 'total_invested_all_portfolios': 71432.0, 'gain_loss_all_portfolios': 26762.6, 'aggregate_return_percentage': 37.4658416396013}
127.0.0.1 - - [29/Dec/2025 17:07:45] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
[AGGREGATE] Error saving aggregate metrics: [Errno 35] Resource temporarily unavailable
[AGGREGATE] Error saving aggregate metrics: [Errno 35] Resource temporarily unavailable
Traceback (most recent call last):
Traceback (most recent call last):
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpx/_transports/default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpx/_transports/default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/connection_pool.py", line 256, in handle_request
    raise exc from None
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/connection_pool.py", line 256, in handle_request
    raise exc from None
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 187, in handle_request
    raise exc
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 187, in handle_request
    raise exc
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 150, in handle_request
    status, headers = self._receive_response(
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 150, in handle_request
    status, headers = self._receive_response(
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 294, in _receive_response
    event = self._receive_stream_event(request, stream_id)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 294, in _receive_response
    event = self._receive_stream_event(request, stream_id)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 336, in _receive_stream_event
    self._receive_events(request, stream_id)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 364, in _receive_events
    events = self._read_incoming_data(request)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 438, in _read_incoming_data
    raise self._read_exception  # pragma: nocover
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpx/_transports/default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/connection_pool.py", line 256, in handle_request
    raise exc from None
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 336, in _receive_stream_event
    self._receive_events(request, stream_id)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 364, in _receive_events
    events = self._read_incoming_data(request)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 438, in _read_incoming_data
    raise self._read_exception  # pragma: nocover
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpx/_transports/default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/connection_pool.py", line 256, in handle_request
    raise exc from None
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 187, in handle_request
    raise exc
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 150, in handle_request
    status, headers = self._receive_response(
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 294, in _receive_response
    event = self._receive_stream_event(request, stream_id)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 336, in _receive_stream_event
    self._receive_events(request, stream_id)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 364, in _receive_events
    events = self._read_incoming_data(request)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 455, in _read_incoming_data
    raise exc
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 441, in _read_incoming_data
    data = self._network_stream.read(self.READ_NUM_BYTES, timeout)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_backends/sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 187, in handle_request
    raise exc
httpcore.ReadError: [Errno 35] Resource temporarily unavailable
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 150, in handle_request
    status, headers = self._receive_response(

The above exception was the direct cause of the following exception:

  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 294, in _receive_response
    event = self._receive_stream_event(request, stream_id)
Traceback (most recent call last):
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 336, in _receive_stream_event
    self._receive_events(request, stream_id)
  File "/Users/ant/Desktop/StockVisualiser/app.py", line 2867, in save_user_aggregate_metrics
    supabase.table('user_aggregate_metrics').update({
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 364, in _receive_events
    events = self._read_incoming_data(request)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/postgrest/_sync/request_builder.py", line 47, in execute
    r = self.request.send()
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 455, in _read_incoming_data
    raise exc
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/postgrest/base_request_builder.py", line 81, in send
    return self.session.request(
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpx/_client.py", line 825, in request
    return self.send(request, auth=auth, follow_redirects=follow_redirects)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpx/_client.py", line 914, in send
    response = self._send_handling_auth(
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 441, in _read_incoming_data
    data = self._network_stream.read(self.READ_NUM_BYTES, timeout)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_backends/sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpx/_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpx/_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpx/_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpx/_transports/default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
httpcore.ReadError: [Errno 35] Resource temporarily unavailable
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)

The above exception was the direct cause of the following exception:

  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
Traceback (most recent call last):
httpx.ReadError: [Errno 35] Resource temporarily unavailable
  File "/Users/ant/Desktop/StockVisualiser/app.py", line 2861, in save_user_aggregate_metrics
    existing = supabase.table('user_aggregate_metrics').select('id').eq(
127.0.0.1 - - [29/Dec/2025 17:08:23] "[35m[1mPOST /api/user/aggregate-metrics HTTP/1.1[0m" 500 -
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/postgrest/_sync/request_builder.py", line 47, in execute
    r = self.request.send()
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/postgrest/base_request_builder.py", line 81, in send
    return self.session.request(
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpx/_client.py", line 825, in request
    return self.send(request, auth=auth, follow_redirects=follow_redirects)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpx/_client.py", line 914, in send
    response = self._send_handling_auth(
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpx/_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpx/_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpx/_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpx/_transports/default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ReadError: [Errno 35] Resource temporarily unavailable
127.0.0.1 - - [29/Dec/2025 17:08:23] "[35m[1mPOST /api/user/aggregate-metrics HTTP/1.1[0m" 500 -
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 98194.6, 'total_invested_all_portfolios': 71432.0, 'gain_loss_all_portfolios': 26762.6, 'aggregate_return_percentage': 37.4658416396013}
127.0.0.1 - - [29/Dec/2025 17:08:24] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 98194.6, 'total_invested_all_portfolios': 71432.0, 'gain_loss_all_portfolios': 26762.6, 'aggregate_return_percentage': 37.4658416396013}
127.0.0.1 - - [29/Dec/2025 17:08:26] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 98194.6, 'total_invested_all_portfolios': 71432.0, 'gain_loss_all_portfolios': 26762.6, 'aggregate_return_percentage': 37.4658416396013}
127.0.0.1 - - [29/Dec/2025 17:08:26] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 98194.6, 'total_invested_all_portfolios': 71432.0, 'gain_loss_all_portfolios': 26762.6, 'aggregate_return_percentage': 37.4658416396013}
127.0.0.1 - - [29/Dec/2025 17:08:27] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 98194.6, 'total_invested_all_portfolios': 71432.0, 'gain_loss_all_portfolios': 26762.6, 'aggregate_return_percentage': 37.4658416396013}
127.0.0.1 - - [29/Dec/2025 17:08:28] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 98194.6, 'total_invested_all_portfolios': 71432.0, 'gain_loss_all_portfolios': 26762.6, 'aggregate_return_percentage': 37.4658416396013}
127.0.0.1 - - [29/Dec/2025 17:08:29] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 98194.6, 'total_invested_all_portfolios': 71432.0, 'gain_loss_all_portfolios': 26762.6, 'aggregate_return_percentage': 37.4658416396013}
127.0.0.1 - - [29/Dec/2025 17:08:31] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 98194.6, 'total_invested_all_portfolios': 71432.0, 'gain_loss_all_portfolios': 26762.6, 'aggregate_return_percentage': 37.4658416396013}
127.0.0.1 - - [29/Dec/2025 17:08:31] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 98194.6, 'total_invested_all_portfolios': 71432.0, 'gain_loss_all_portfolios': 26762.6, 'aggregate_return_percentage': 37.4658416396013}
127.0.0.1 - - [29/Dec/2025 17:08:33] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 98194.6, 'total_invested_all_portfolios': 71432.0, 'gain_loss_all_portfolios': 26762.6, 'aggregate_return_percentage': 37.4658416396013}
127.0.0.1 - - [29/Dec/2025 17:08:35] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 98194.6, 'total_invested_all_portfolios': 71432.0, 'gain_loss_all_portfolios': 26762.6, 'aggregate_return_percentage': 37.4658416396013}
127.0.0.1 - - [29/Dec/2025 17:08:39] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 17:08:40] "GET /api/portfolio/details?portfolio_id=b7065a24-56a0-4938-ba5a-c447f3a227f5 HTTP/1.1" 200 -
[STOCK] Fetching data for: AMCR
[STOCK] Calling Finnhub with params: {'symbol': 'AMCR', 'token': 'd4gdnt9r01qm5b354vmgd4gdnt9r01qm5b354vn0'}
[STOCK] Finnhub response status: 200
[STOCK] AMCR - API response: {'c': 8.405, 'd': 0.085, 'dp': 1.0216, 'h': 8.41, 'l': 8.31, 'o': 8.31, 'pc': 8.32, 't': 1767024535}
[STOCK] AMCR - Raw values: c=8.405, pc=8.32, d=0.085, dp=1.0216
127.0.0.1 - - [29/Dec/2025 17:09:26] "GET /api/stock/AMCR HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 17:09:27] "POST /api/portfolio/save HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 17:09:27] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
[METRICS] Stored metrics for portfolio b7065a24-56a0-4938-ba5a-c447f3a227f5: 0.00%
[METRICS] Saved metrics for portfolio b7065a24-56a0-4938-ba5a-c447f3a227f5: {'total_value': 5000.0, 'total_invested': 5000.0, 'gain_loss': 0.0, 'return_percentage': 0.0}
[METRICS] Portfolio Portfolio1: value=20132.00, invested=13250.00, gain_loss=6882.00
[METRICS] Portfolio Portfolio 3: value=7176.80, invested=8832.00, gain_loss=-1655.20
[METRICS] Portfolio Portfolio 4: value=32749.30, invested=29350.00, gain_loss=3399.30
[METRICS] Portfolio Portfolio 5: value=5000.00, invested=5000.00, gain_loss=0.00
[METRICS] Portfolio portfolio 2: value=38136.50, invested=20000.00, gain_loss=18136.50
[METRICS] Updated aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: 35.01% (5 portfolios)
127.0.0.1 - - [29/Dec/2025 17:09:28] "POST /api/portfolio/save-metrics HTTP/1.1" 200 -
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 103194.6, 'total_invested_all_portfolios': 76432.0, 'gain_loss_all_portfolios': 26762.6, 'aggregate_return_percentage': 35.014915218756535}
127.0.0.1 - - [29/Dec/2025 17:09:28] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 17:09:31] "POST /api/portfolio/last-sync HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 17:09:31] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
Failed to get ticker 'AMCR' reason: Expecting value: line 1 column 1 (char 0)
AMCR: No timezone found, symbol may be delisted
127.0.0.1 - - [29/Dec/2025 17:10:01] "[33mGET /api/stock/AMCR/history?from_date=2025-12-01 HTTP/1.1[0m" 404 -
[METRICS] Stored metrics for portfolio b7065a24-56a0-4938-ba5a-c447f3a227f5: 68.10%
[METRICS] Saved metrics for portfolio b7065a24-56a0-4938-ba5a-c447f3a227f5: {'total_value': 8405.0, 'total_invested': 5000.0, 'gain_loss': 3405.0, 'return_percentage': 68.10000000000001}
[METRICS] Portfolio Portfolio1: value=20132.00, invested=13250.00, gain_loss=6882.00
[METRICS] Portfolio Portfolio 3: value=7176.80, invested=8832.00, gain_loss=-1655.20
[METRICS] Portfolio Portfolio 4: value=32749.30, invested=29350.00, gain_loss=3399.30
[METRICS] Portfolio Portfolio 5: value=8405.00, invested=5000.00, gain_loss=3405.00
[METRICS] Portfolio portfolio 2: value=38136.50, invested=20000.00, gain_loss=18136.50
[METRICS] Updated aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: 39.47% (5 portfolios)
127.0.0.1 - - [29/Dec/2025 17:10:02] "POST /api/portfolio/save-metrics HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 17:11:01] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 17:12:01] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 17:13:02] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 17:14:02] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 17:15:01] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 17:16:02] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 17:17:01] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 17:18:02] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 17:19:01] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 17:20:01] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 17:21:01] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 17:22:02] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 17:23:01] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 17:24:01] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 17:25:01] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 17:26:01] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 17:27:01] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 17:28:01] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 17:29:01] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 17:30:02] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 17:31:02] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 17:32:02] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 17:33:02] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 17:34:02] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 17:35:02] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 17:36:02] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 17:37:02] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 17:38:02] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 17:39:01] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 17:40:02] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 17:41:02] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 17:42:02] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 17:43:02] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 17:44:02] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 17:45:01] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 17:46:02] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 17:47:01] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 17:48:02] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 17:49:01] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 17:50:01] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 17:51:02] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 17:52:02] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 17:53:01] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 17:54:02] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 17:55:02] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 17:56:02] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 17:57:02] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 17:58:02] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 17:59:02] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:00:02] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:01:02] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:02:02] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:03:01] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:04:01] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:05:01] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:06:02] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:07:01] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:08:02] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:09:01] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:10:01] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:11:01] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:12:01] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:13:01] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:14:02] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:15:01] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:16:01] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:17:02] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:18:01] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:19:01] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:20:02] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:21:01] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:22:02] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:23:01] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:24:02] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:25:01] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:26:02] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:27:01] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:28:01] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:29:01] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:30:02] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:31:01] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:32:02] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:33:02] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:34:02] "GET /api/stock/AMCR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:34:17] "[36mGET / HTTP/1.1[0m" 304 -
127.0.0.1 - - [29/Dec/2025 18:34:17] "[33mGET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1[0m" 404 -
127.0.0.1 - - [29/Dec/2025 18:34:17] "[36mGET /css/styles.css HTTP/1.1[0m" 304 -
127.0.0.1 - - [29/Dec/2025 18:34:17] "[36mGET /js/modal.js HTTP/1.1[0m" 304 -
127.0.0.1 - - [29/Dec/2025 18:34:17] "[36mGET /js/app.js HTTP/1.1[0m" 304 -
127.0.0.1 - - [29/Dec/2025 18:34:27] "POST /api/portfolio/login HTTP/1.1" 200 -
[METRICS] Fetching cached metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 106599.6, 'total_invested_all_portfolios': 76432.0, 'gain_loss_all_portfolios': 30167.6, 'aggregate_return_percentage': 39.46985555788151}
127.0.0.1 - - [29/Dec/2025 18:34:27] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
[METRICS] Calculated fresh aggregate: value=106599.60, invested=76432.00, gain_loss=30167.60, return=39.47%
[METRICS] Returning metrics for 5 portfolios
127.0.0.1 - - [29/Dec/2025 18:34:27] "POST /api/portfolios/metrics HTTP/1.1" 200 -
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 106599.6, 'total_invested_all_portfolios': 76432.0, 'gain_loss_all_portfolios': 30167.6, 'aggregate_return_percentage': 39.46985555788151}
127.0.0.1 - - [29/Dec/2025 18:34:28] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:35:32] "GET / HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:35:32] "[33mGET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1[0m" 404 -
127.0.0.1 - - [29/Dec/2025 18:35:32] "GET /css/styles.css HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:35:32] "GET /js/app.js HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:35:32] "GET /js/modal.js HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:35:33] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
127.0.0.1 - - [29/Dec/2025 18:35:39] "POST /api/portfolio/login HTTP/1.1" 200 -
[METRICS] Fetching cached metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 106599.6, 'total_invested_all_portfolios': 76432.0, 'gain_loss_all_portfolios': 30167.6, 'aggregate_return_percentage': 39.46985555788151}
127.0.0.1 - - [29/Dec/2025 18:35:39] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
[METRICS] Calculated fresh aggregate: value=106599.60, invested=76432.00, gain_loss=30167.60, return=39.47%
[METRICS] Returning metrics for 5 portfolios
127.0.0.1 - - [29/Dec/2025 18:35:39] "POST /api/portfolios/metrics HTTP/1.1" 200 -
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 106599.6, 'total_invested_all_portfolios': 76432.0, 'gain_loss_all_portfolios': 30167.6, 'aggregate_return_percentage': 39.46985555788151}
127.0.0.1 - - [29/Dec/2025 18:35:40] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 106599.6, 'total_invested_all_portfolios': 76432.0, 'gain_loss_all_portfolios': 30167.6, 'aggregate_return_percentage': 39.46985555788151}
127.0.0.1 - - [29/Dec/2025 18:36:50] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 106599.6, 'total_invested_all_portfolios': 76432.0, 'gain_loss_all_portfolios': 30167.6, 'aggregate_return_percentage': 39.46985555788151}
127.0.0.1 - - [29/Dec/2025 18:36:51] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 106599.6, 'total_invested_all_portfolios': 76432.0, 'gain_loss_all_portfolios': 30167.6, 'aggregate_return_percentage': 39.46985555788151}
127.0.0.1 - - [29/Dec/2025 18:36:59] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:37:12] "GET / HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:37:12] "[33mGET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1[0m" 404 -
127.0.0.1 - - [29/Dec/2025 18:37:12] "GET /js/modal.js HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:37:12] "GET /css/styles.css HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:37:12] "GET /js/app.js HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:37:13] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
127.0.0.1 - - [29/Dec/2025 18:37:17] "[33mGET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1[0m" 404 -
127.0.0.1 - - [29/Dec/2025 18:37:17] "[36mGET /css/styles.css HTTP/1.1[0m" 304 -
127.0.0.1 - - [29/Dec/2025 18:37:17] "[33mGET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1[0m" 404 -
127.0.0.1 - - [29/Dec/2025 18:37:29] "POST /api/portfolio/login HTTP/1.1" 200 -
[METRICS] Fetching cached metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 106599.6, 'total_invested_all_portfolios': 76432.0, 'gain_loss_all_portfolios': 30167.6, 'aggregate_return_percentage': 39.46985555788151}
127.0.0.1 - - [29/Dec/2025 18:37:29] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
[METRICS] Calculated fresh aggregate: value=106599.60, invested=76432.00, gain_loss=30167.60, return=39.47%
[METRICS] Returning metrics for 5 portfolios
127.0.0.1 - - [29/Dec/2025 18:37:30] "POST /api/portfolios/metrics HTTP/1.1" 200 -
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 106599.6, 'total_invested_all_portfolios': 76432.0, 'gain_loss_all_portfolios': 30167.6, 'aggregate_return_percentage': 39.46985555788151}
127.0.0.1 - - [29/Dec/2025 18:37:30] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:37:48] "GET /api/portfolio/details?portfolio_id=27e4b6da-484e-45fe-b16f-51857467feea HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:37:48] "POST /api/portfolio/last-sync HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:37:49] "GET /api/stock/EMR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:37:49] "GET /api/stock/GOOGL/instant HTTP/1.1" 200 -
Failed to get ticker 'GOOGL' reason: Expecting value: line 1 column 1 (char 0)
GOOGL: No timezone found, symbol may be delisted
127.0.0.1 - - [29/Dec/2025 18:37:49] "[33mGET /api/stock/GOOGL/history?from_date=2025-12-01 HTTP/1.1[0m" 404 -
Failed to get ticker 'EMR' reason: Expecting value: line 1 column 1 (char 0)
EMR: No timezone found, symbol may be delisted
127.0.0.1 - - [29/Dec/2025 18:37:49] "[33mGET /api/stock/EMR/history?from_date=2025-12-01 HTTP/1.1[0m" 404 -
[METRICS] Stored metrics for portfolio 27e4b6da-484e-45fe-b16f-51857467feea: 89.95%
[METRICS] Saved metrics for portfolio 27e4b6da-484e-45fe-b16f-51857467feea: {'total_value': 37989.5071, 'total_invested': 20000.0, 'gain_loss': 17989.507100000003, 'return_percentage': 89.94753550000001}
[METRICS] Portfolio Portfolio1: value=20132.00, invested=13250.00, gain_loss=6882.00
[METRICS] Portfolio Portfolio 3: value=7176.80, invested=8832.00, gain_loss=-1655.20
[METRICS] Portfolio Portfolio 4: value=32749.30, invested=29350.00, gain_loss=3399.30
[METRICS] Portfolio Portfolio 5: value=8405.00, invested=5000.00, gain_loss=3405.00
[METRICS] Portfolio portfolio 2: value=37989.51, invested=20000.00, gain_loss=17989.51
[METRICS] Updated aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: 39.28% (5 portfolios)
127.0.0.1 - - [29/Dec/2025 18:37:50] "POST /api/portfolio/save-metrics HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:38:50] "GET /api/stock/EMR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:38:50] "GET /api/stock/GOOGL/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:39:50] "GET /api/stock/EMR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:39:50] "GET /api/stock/GOOGL/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:40:51] "GET /api/stock/GOOGL/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:40:51] "GET /api/stock/EMR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:41:07] "[36mGET / HTTP/1.1[0m" 304 -
127.0.0.1 - - [29/Dec/2025 18:41:07] "[36mGET /js/modal.js HTTP/1.1[0m" 304 -
127.0.0.1 - - [29/Dec/2025 18:41:07] "[33mGET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1[0m" 404 -
127.0.0.1 - - [29/Dec/2025 18:41:07] "[36mGET /css/styles.css HTTP/1.1[0m" 304 -
127.0.0.1 - - [29/Dec/2025 18:41:07] "GET /js/app.js HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:41:24] "[36mGET / HTTP/1.1[0m" 304 -
127.0.0.1 - - [29/Dec/2025 18:41:24] "[33mGET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1[0m" 404 -
127.0.0.1 - - [29/Dec/2025 18:41:24] "[36mGET /css/styles.css HTTP/1.1[0m" 304 -
127.0.0.1 - - [29/Dec/2025 18:41:24] "[36mGET /js/modal.js HTTP/1.1[0m" 304 -
127.0.0.1 - - [29/Dec/2025 18:41:24] "[36mGET /js/app.js HTTP/1.1[0m" 304 -
127.0.0.1 - - [29/Dec/2025 18:44:49] "POST /api/portfolio/login HTTP/1.1" 200 -
Error retrieving last close price for GOOGL: [Errno 35] Resource temporarily unavailable
Error retrieving last close price for EMR: [Errno 35] Resource temporarily unavailable
[METRICS] Fetching cached metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 106452.61000000002, 'total_invested_all_portfolios': 76432.0, 'gain_loss_all_portfolios': 30020.61, 'aggregate_return_percentage': 39.2775408205987}
127.0.0.1 - - [29/Dec/2025 18:44:49] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
[METRICS] Calculated fresh aggregate: value=106452.61, invested=76432.00, gain_loss=30020.61, return=39.28%
[METRICS] Returning metrics for 5 portfolios
127.0.0.1 - - [29/Dec/2025 18:44:49] "POST /api/portfolios/metrics HTTP/1.1" 200 -
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 106452.61000000002, 'total_invested_all_portfolios': 76432.0, 'gain_loss_all_portfolios': 30020.61, 'aggregate_return_percentage': 39.2775408205987}
127.0.0.1 - - [29/Dec/2025 18:44:50] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:44:55] "GET /api/portfolio/details?portfolio_id=27e4b6da-484e-45fe-b16f-51857467feea HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:44:55] "POST /api/portfolio/last-sync HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:44:55] "GET /api/stock/GOOGL/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:44:55] "GET /api/stock/EMR/instant HTTP/1.1" 200 -
Failed to get ticker 'EMR' reason: Expecting value: line 1 column 1 (char 0)
EMR: No timezone found, symbol may be delisted
127.0.0.1 - - [29/Dec/2025 18:44:56] "[33mGET /api/stock/EMR/history?from_date=2025-12-01 HTTP/1.1[0m" 404 -
Failed to get ticker 'GOOGL' reason: Expecting value: line 1 column 1 (char 0)
GOOGL: No timezone found, symbol may be delisted
127.0.0.1 - - [29/Dec/2025 18:44:56] "[33mGET /api/stock/GOOGL/history?from_date=2025-12-01 HTTP/1.1[0m" 404 -
Error retrieving last close price for GOOGL: [Errno 35] Resource temporarily unavailable
Error retrieving last close price for EMR: [Errno 35] Resource temporarily unavailable
[METRICS] Stored metrics for portfolio 27e4b6da-484e-45fe-b16f-51857467feea: 90.01%
[METRICS] Saved metrics for portfolio 27e4b6da-484e-45fe-b16f-51857467feea: {'total_value': 38001.5, 'total_invested': 20000.0, 'gain_loss': 18001.5, 'return_percentage': 90.0075}
[METRICS] Portfolio Portfolio1: value=20132.00, invested=13250.00, gain_loss=6882.00
[METRICS] Portfolio Portfolio 3: value=7176.80, invested=8832.00, gain_loss=-1655.20
[METRICS] Portfolio Portfolio 4: value=32749.30, invested=29350.00, gain_loss=3399.30
[METRICS] Portfolio Portfolio 5: value=8405.00, invested=5000.00, gain_loss=3405.00
[METRICS] Portfolio portfolio 2: value=38001.50, invested=20000.00, gain_loss=18001.50
[METRICS] Updated aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: 39.29% (5 portfolios)
127.0.0.1 - - [29/Dec/2025 18:44:57] "POST /api/portfolio/save-metrics HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:45:03] "POST /api/portfolio/save HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:45:04] "GET /api/stock/GOOGL/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:45:04] "GET /api/stock/EMR/instant HTTP/1.1" 200 -
[METRICS] Stored metrics for portfolio 27e4b6da-484e-45fe-b16f-51857467feea: 0.00%
[METRICS] Saved metrics for portfolio 27e4b6da-484e-45fe-b16f-51857467feea: {'total_value': 20000.0, 'total_invested': 20000.0, 'gain_loss': 0.0, 'return_percentage': 0.0}
[METRICS] Portfolio Portfolio1: value=20132.00, invested=13250.00, gain_loss=6882.00
[METRICS] Portfolio Portfolio 3: value=7176.80, invested=8832.00, gain_loss=-1655.20
[METRICS] Portfolio Portfolio 4: value=32749.30, invested=29350.00, gain_loss=3399.30
[METRICS] Portfolio Portfolio 5: value=8405.00, invested=5000.00, gain_loss=3405.00
[METRICS] Portfolio portfolio 2: value=20000.00, invested=20000.00, gain_loss=0.00
[METRICS] Updated aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: 15.74% (5 portfolios)
127.0.0.1 - - [29/Dec/2025 18:45:05] "POST /api/portfolio/save-metrics HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:45:06] "GET /api/portfolio/details?portfolio_id=6b4ab30d-6002-4404-bb44-2726a48c5c1c HTTP/1.1" 200 -
[METRICS] Stored metrics for portfolio 27e4b6da-484e-45fe-b16f-51857467feea: 90.01%
[METRICS] Saved metrics for portfolio 27e4b6da-484e-45fe-b16f-51857467feea: {'total_value': 38001.5, 'total_invested': 20000.0, 'gain_loss': 18001.5, 'return_percentage': 90.0075}
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 88463.1, 'total_invested_all_portfolios': 76432.0, 'gain_loss_all_portfolios': 12031.1, 'aggregate_return_percentage': 15.740920033493824}
127.0.0.1 - - [29/Dec/2025 18:45:06] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:45:06] "POST /api/portfolio/last-sync HTTP/1.1" 200 -
[METRICS] Portfolio Portfolio1: value=20132.00, invested=13250.00, gain_loss=6882.00
[METRICS] Portfolio Portfolio 3: value=7176.80, invested=8832.00, gain_loss=-1655.20
[METRICS] Portfolio Portfolio 4: value=32749.30, invested=29350.00, gain_loss=3399.30
[METRICS] Portfolio Portfolio 5: value=8405.00, invested=5000.00, gain_loss=3405.00
[METRICS] Portfolio portfolio 2: value=38001.50, invested=20000.00, gain_loss=18001.50
[METRICS] Updated aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: 39.29% (5 portfolios)
127.0.0.1 - - [29/Dec/2025 18:45:06] "POST /api/portfolio/save-metrics HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:45:07] "GET /api/stock/AAL/instant HTTP/1.1" 200 -
Failed to get ticker 'AAL' reason: Expecting value: line 1 column 1 (char 0)
AAL: No timezone found, symbol may be delisted
127.0.0.1 - - [29/Dec/2025 18:45:07] "[33mGET /api/stock/AAL/history?from_date=2025-12-01 HTTP/1.1[0m" 404 -
127.0.0.1 - - [29/Dec/2025 18:45:07] "GET /api/stock/MROL.XC/instant HTTP/1.1" 200 -
Failed to get ticker 'MROL.XC' reason: Expecting value: line 1 column 1 (char 0)
MROL.XC: No timezone found, symbol may be delisted
127.0.0.1 - - [29/Dec/2025 18:45:07] "[33mGET /api/stock/MROL.XC/history?from_date=2025-12-01 HTTP/1.1[0m" 404 -
[METRICS] Stored metrics for portfolio 6b4ab30d-6002-4404-bb44-2726a48c5c1c: -18.77%
[METRICS] Saved metrics for portfolio 6b4ab30d-6002-4404-bb44-2726a48c5c1c: {'total_value': 7174.05, 'total_invested': 8832.0, 'gain_loss': -1657.9499999999998, 'return_percentage': -18.772078804347824}
[METRICS] Portfolio Portfolio1: value=20132.00, invested=13250.00, gain_loss=6882.00
[METRICS] Portfolio Portfolio 3: value=7174.05, invested=8832.00, gain_loss=-1657.95
[METRICS] Portfolio Portfolio 4: value=32749.30, invested=29350.00, gain_loss=3399.30
[METRICS] Portfolio Portfolio 5: value=8405.00, invested=5000.00, gain_loss=3405.00
[METRICS] Portfolio portfolio 2: value=38001.50, invested=20000.00, gain_loss=18001.50
[METRICS] Updated aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: 39.29% (5 portfolios)
127.0.0.1 - - [29/Dec/2025 18:45:08] "POST /api/portfolio/save-metrics HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:45:09] "POST /api/portfolio/save HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:45:10] "GET /api/stock/AAL/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:45:11] "GET /api/stock/MROL.XC/instant HTTP/1.1" 200 -
[METRICS] Stored metrics for portfolio 6b4ab30d-6002-4404-bb44-2726a48c5c1c: 0.00%
[METRICS] Saved metrics for portfolio 6b4ab30d-6002-4404-bb44-2726a48c5c1c: {'total_value': 8832.0, 'total_invested': 8832.0, 'gain_loss': 0.0, 'return_percentage': 0.0}
[METRICS] Portfolio Portfolio1: value=20132.00, invested=13250.00, gain_loss=6882.00
[METRICS] Portfolio Portfolio 4: value=32749.30, invested=29350.00, gain_loss=3399.30
[METRICS] Portfolio Portfolio 5: value=8405.00, invested=5000.00, gain_loss=3405.00
[METRICS] Portfolio portfolio 2: value=38001.50, invested=20000.00, gain_loss=18001.50
[METRICS] Portfolio Portfolio 3: value=8832.00, invested=8832.00, gain_loss=0.00
[METRICS] Updated aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: 41.46% (5 portfolios)
127.0.0.1 - - [29/Dec/2025 18:45:12] "POST /api/portfolio/save-metrics HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:45:12] "GET /api/portfolio/details?portfolio_id=e5995861-8ac4-4c5a-a33d-d8fc4501d758 HTTP/1.1" 200 -
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 108119.8, 'total_invested_all_portfolios': 76432.0, 'gain_loss_all_portfolios': 31687.8, 'aggregate_return_percentage': 41.45881306259158}
127.0.0.1 - - [29/Dec/2025 18:45:12] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
[METRICS] Stored metrics for portfolio 6b4ab30d-6002-4404-bb44-2726a48c5c1c: -18.77%
[METRICS] Saved metrics for portfolio 6b4ab30d-6002-4404-bb44-2726a48c5c1c: {'total_value': 7174.05, 'total_invested': 8832.0, 'gain_loss': -1657.9499999999998, 'return_percentage': -18.772078804347824}
[METRICS] Portfolio Portfolio1: value=20132.00, invested=13250.00, gain_loss=6882.00
127.0.0.1 - - [29/Dec/2025 18:45:13] "POST /api/portfolio/last-sync HTTP/1.1" 200 -
[METRICS] Portfolio Portfolio 4: value=32749.30, invested=29350.00, gain_loss=3399.30
[METRICS] Portfolio Portfolio 5: value=8405.00, invested=5000.00, gain_loss=3405.00
[METRICS] Portfolio portfolio 2: value=38001.50, invested=20000.00, gain_loss=18001.50
[METRICS] Portfolio Portfolio 3: value=7174.05, invested=8832.00, gain_loss=-1657.95
[METRICS] Updated aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: 39.29% (5 portfolios)
127.0.0.1 - - [29/Dec/2025 18:45:13] "POST /api/portfolio/save-metrics HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:45:13] "GET /api/stock/MDT/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:45:13] "GET /api/stock/TFC/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:45:13] "GET /api/stock/CBRE/instant HTTP/1.1" 200 -
Failed to get ticker 'MDT' reason: Expecting value: line 1 column 1 (char 0)
MDT: No timezone found, symbol may be delisted
127.0.0.1 - - [29/Dec/2025 18:45:13] "[33mGET /api/stock/MDT/history?from_date=2025-12-01 HTTP/1.1[0m" 404 -
Failed to get ticker 'CBRE' reason: Expecting value: line 1 column 1 (char 0)
CBRE: No timezone found, symbol may be delisted
127.0.0.1 - - [29/Dec/2025 18:45:13] "[33mGET /api/stock/CBRE/history?from_date=2025-12-01 HTTP/1.1[0m" 404 -
Failed to get ticker 'TFC' reason: Expecting value: line 1 column 1 (char 0)
TFC: No timezone found, symbol may be delisted
127.0.0.1 - - [29/Dec/2025 18:45:13] "[33mGET /api/stock/TFC/history?from_date=2025-12-01 HTTP/1.1[0m" 404 -
[METRICS] Stored metrics for portfolio e5995861-8ac4-4c5a-a33d-d8fc4501d758: 10.89%
[METRICS] Saved metrics for portfolio e5995861-8ac4-4c5a-a33d-d8fc4501d758: {'total_value': 32547.5, 'total_invested': 29350.0, 'gain_loss': 3197.5, 'return_percentage': 10.894378194207837}
[METRICS] Portfolio Portfolio1: value=20132.00, invested=13250.00, gain_loss=6882.00
[METRICS] Portfolio Portfolio 4: value=32547.50, invested=29350.00, gain_loss=3197.50
[METRICS] Portfolio Portfolio 5: value=8405.00, invested=5000.00, gain_loss=3405.00
[METRICS] Portfolio portfolio 2: value=38001.50, invested=20000.00, gain_loss=18001.50
[METRICS] Portfolio Portfolio 3: value=7174.05, invested=8832.00, gain_loss=-1657.95
[METRICS] Updated aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: 39.03% (5 portfolios)
127.0.0.1 - - [29/Dec/2025 18:45:14] "POST /api/portfolio/save-metrics HTTP/1.1" 200 -
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 106260.05, 'total_invested_all_portfolios': 76432.0, 'gain_loss_all_portfolios': 29828.05, 'aggregate_return_percentage': 39.025604458865395}
127.0.0.1 - - [29/Dec/2025 18:45:31] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:46:01] "GET /api/portfolio/details?portfolio_id=7c0c111b-158c-47d6-9f8e-bc0492259133 HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:46:01] "POST /api/portfolio/last-sync HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:46:02] "GET /api/stock/AAPL/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:46:02] "GET /api/stock/DELL/instant HTTP/1.1" 200 -
Failed to get ticker 'DELL' reason: Expecting value: line 1 column 1 (char 0)
DELL: No timezone found, symbol may be delisted
127.0.0.1 - - [29/Dec/2025 18:46:02] "[33mGET /api/stock/DELL/history?from_date=2025-12-01 HTTP/1.1[0m" 404 -
Failed to get ticker 'AAPL' reason: Expecting value: line 1 column 1 (char 0)
AAPL: No timezone found, symbol may be delisted
127.0.0.1 - - [29/Dec/2025 18:46:02] "[33mGET /api/stock/AAPL/history?from_date=2025-12-01 HTTP/1.1[0m" 404 -
[METRICS] Stored metrics for portfolio 7c0c111b-158c-47d6-9f8e-bc0492259133: 51.21%
[METRICS] Saved metrics for portfolio 7c0c111b-158c-47d6-9f8e-bc0492259133: {'total_value': 20035.25, 'total_invested': 13250.0, 'gain_loss': 6785.25, 'return_percentage': 51.20943396226415}
[METRICS] Portfolio Portfolio1: value=20035.25, invested=13250.00, gain_loss=6785.25
[METRICS] Portfolio Portfolio 4: value=32547.50, invested=29350.00, gain_loss=3197.50
[METRICS] Portfolio Portfolio 5: value=8405.00, invested=5000.00, gain_loss=3405.00
[METRICS] Portfolio portfolio 2: value=38001.50, invested=20000.00, gain_loss=18001.50
[METRICS] Portfolio Portfolio 3: value=7174.05, invested=8832.00, gain_loss=-1657.95
[METRICS] Updated aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: 38.90% (5 portfolios)
127.0.0.1 - - [29/Dec/2025 18:46:03] "POST /api/portfolio/save-metrics HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:47:03] "GET /api/stock/AAPL/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:47:03] "GET /api/stock/DELL/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:48:03] "GET /api/stock/AAPL/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:48:03] "GET /api/stock/DELL/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:49:03] "GET /api/stock/DELL/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:49:03] "GET /api/stock/AAPL/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:50:03] "GET /api/stock/DELL/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:50:03] "GET /api/stock/AAPL/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:50:19] "[36mGET / HTTP/1.1[0m" 304 -
127.0.0.1 - - [29/Dec/2025 18:50:20] "[36mGET /css/styles.css HTTP/1.1[0m" 304 -
127.0.0.1 - - [29/Dec/2025 18:50:20] "[36mGET /js/modal.js HTTP/1.1[0m" 304 -
127.0.0.1 - - [29/Dec/2025 18:50:20] "GET /js/app.js HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:50:20] "[33mGET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1[0m" 404 -
127.0.0.1 - - [29/Dec/2025 18:50:27] "POST /api/portfolio/login HTTP/1.1" 200 -
[METRICS] Fetching cached metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 106163.3, 'total_invested_all_portfolios': 76432.0, 'gain_loss_all_portfolios': 29731.3, 'aggregate_return_percentage': 38.89902135231317}
127.0.0.1 - - [29/Dec/2025 18:50:27] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
[METRICS] Calculated fresh aggregate: value=106163.30, invested=76432.00, gain_loss=29731.30, return=38.90%
[METRICS] Returning metrics for 5 portfolios
127.0.0.1 - - [29/Dec/2025 18:50:27] "POST /api/portfolios/metrics HTTP/1.1" 200 -
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 106163.3, 'total_invested_all_portfolios': 76432.0, 'gain_loss_all_portfolios': 29731.3, 'aggregate_return_percentage': 38.89902135231317}
127.0.0.1 - - [29/Dec/2025 18:50:28] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:50:33] "GET /api/portfolio/details?portfolio_id=27e4b6da-484e-45fe-b16f-51857467feea HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:50:33] "POST /api/portfolio/last-sync HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:50:34] "GET /api/stock/EMR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:50:34] "GET /api/stock/GOOGL/instant HTTP/1.1" 200 -
Failed to get ticker 'EMR' reason: Expecting value: line 1 column 1 (char 0)
EMR: No timezone found, symbol may be delisted
127.0.0.1 - - [29/Dec/2025 18:50:34] "[33mGET /api/stock/EMR/history?from_date=2025-12-01 HTTP/1.1[0m" 404 -
Failed to get ticker 'GOOGL' reason: Expecting value: line 1 column 1 (char 0)
GOOGL: No timezone found, symbol may be delisted
127.0.0.1 - - [29/Dec/2025 18:50:34] "[33mGET /api/stock/GOOGL/history?from_date=2025-12-01 HTTP/1.1[0m" 404 -
[METRICS] Stored metrics for portfolio 27e4b6da-484e-45fe-b16f-51857467feea: 89.99%
[METRICS] Saved metrics for portfolio 27e4b6da-484e-45fe-b16f-51857467feea: {'total_value': 37998.25, 'total_invested': 20000.0, 'gain_loss': 17998.25, 'return_percentage': 89.99125}
[METRICS] Portfolio Portfolio1: value=20035.25, invested=13250.00, gain_loss=6785.25
[METRICS] Portfolio Portfolio 4: value=32547.50, invested=29350.00, gain_loss=3197.50
[METRICS] Portfolio Portfolio 5: value=8405.00, invested=5000.00, gain_loss=3405.00
[METRICS] Portfolio portfolio 2: value=37998.25, invested=20000.00, gain_loss=17998.25
[METRICS] Portfolio Portfolio 3: value=7174.05, invested=8832.00, gain_loss=-1657.95
[METRICS] Updated aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: 38.89% (5 portfolios)
127.0.0.1 - - [29/Dec/2025 18:50:35] "POST /api/portfolio/save-metrics HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:50:40] "POST /api/portfolio/save HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:50:41] "GET /api/stock/GOOGL/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:50:41] "GET /api/stock/EMR/instant HTTP/1.1" 200 -
[METRICS] Stored metrics for portfolio 27e4b6da-484e-45fe-b16f-51857467feea: 0.00%
[METRICS] Saved metrics for portfolio 27e4b6da-484e-45fe-b16f-51857467feea: {'total_value': 20000.0, 'total_invested': 20000.0, 'gain_loss': 0.0, 'return_percentage': 0.0}
[METRICS] Portfolio Portfolio1: value=20035.25, invested=13250.00, gain_loss=6785.25
[METRICS] Portfolio Portfolio 4: value=32547.50, invested=29350.00, gain_loss=3197.50
[METRICS] Portfolio Portfolio 5: value=8405.00, invested=5000.00, gain_loss=3405.00
[METRICS] Portfolio Portfolio 3: value=7174.05, invested=8832.00, gain_loss=-1657.95
[METRICS] Portfolio portfolio 2: value=20000.00, invested=20000.00, gain_loss=0.00
[METRICS] Updated aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: 15.35% (5 portfolios)
127.0.0.1 - - [29/Dec/2025 18:50:42] "POST /api/portfolio/save-metrics HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:50:42] "GET /api/portfolio/details?portfolio_id=7c0c111b-158c-47d6-9f8e-bc0492259133 HTTP/1.1" 200 -
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 88161.8, 'total_invested_all_portfolios': 76432.0, 'gain_loss_all_portfolios': 11729.8, 'aggregate_return_percentage': 15.34671341846347}
127.0.0.1 - - [29/Dec/2025 18:50:42] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
[METRICS] Stored metrics for portfolio 27e4b6da-484e-45fe-b16f-51857467feea: 89.99%
[METRICS] Saved metrics for portfolio 27e4b6da-484e-45fe-b16f-51857467feea: {'total_value': 37998.25, 'total_invested': 20000.0, 'gain_loss': 17998.25, 'return_percentage': 89.99125}
[METRICS] Portfolio Portfolio1: value=20035.25, invested=13250.00, gain_loss=6785.25
127.0.0.1 - - [29/Dec/2025 18:50:43] "POST /api/portfolio/last-sync HTTP/1.1" 200 -
[METRICS] Portfolio Portfolio 4: value=32547.50, invested=29350.00, gain_loss=3197.50
[METRICS] Portfolio Portfolio 5: value=8405.00, invested=5000.00, gain_loss=3405.00
[METRICS] Portfolio Portfolio 3: value=7174.05, invested=8832.00, gain_loss=-1657.95
[METRICS] Portfolio portfolio 2: value=37998.25, invested=20000.00, gain_loss=17998.25
[METRICS] Updated aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: 38.89% (5 portfolios)
127.0.0.1 - - [29/Dec/2025 18:50:43] "POST /api/portfolio/save-metrics HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:50:43] "GET /api/stock/AAPL/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:50:44] "GET /api/stock/DELL/instant HTTP/1.1" 200 -
Failed to get ticker 'AAPL' reason: Expecting value: line 1 column 1 (char 0)
AAPL: No timezone found, symbol may be delisted
127.0.0.1 - - [29/Dec/2025 18:50:44] "[33mGET /api/stock/AAPL/history?from_date=2025-12-01 HTTP/1.1[0m" 404 -
Failed to get ticker 'DELL' reason: Expecting value: line 1 column 1 (char 0)
DELL: No timezone found, symbol may be delisted
127.0.0.1 - - [29/Dec/2025 18:50:44] "[33mGET /api/stock/DELL/history?from_date=2025-12-01 HTTP/1.1[0m" 404 -
[METRICS] Stored metrics for portfolio 7c0c111b-158c-47d6-9f8e-bc0492259133: 51.20%
[METRICS] Saved metrics for portfolio 7c0c111b-158c-47d6-9f8e-bc0492259133: {'total_value': 20033.5, 'total_invested': 13250.0, 'gain_loss': 6783.5, 'return_percentage': 51.19622641509434}
[METRICS] Portfolio Portfolio1: value=20033.50, invested=13250.00, gain_loss=6783.50
[METRICS] Portfolio Portfolio 4: value=32547.50, invested=29350.00, gain_loss=3197.50
[METRICS] Portfolio Portfolio 5: value=8405.00, invested=5000.00, gain_loss=3405.00
[METRICS] Portfolio Portfolio 3: value=7174.05, invested=8832.00, gain_loss=-1657.95
[METRICS] Portfolio portfolio 2: value=37998.25, invested=20000.00, gain_loss=17998.25
[METRICS] Updated aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: 38.89% (5 portfolios)
127.0.0.1 - - [29/Dec/2025 18:50:45] "POST /api/portfolio/save-metrics HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:50:48] "POST /api/portfolio/save HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:50:49] "GET /api/stock/AAPL/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:50:50] "GET /api/stock/DELL/instant HTTP/1.1" 200 -
[METRICS] Stored metrics for portfolio 7c0c111b-158c-47d6-9f8e-bc0492259133: 0.00%
[METRICS] Saved metrics for portfolio 7c0c111b-158c-47d6-9f8e-bc0492259133: {'total_value': 13250.0, 'total_invested': 13250.0, 'gain_loss': 0.0, 'return_percentage': 0.0}
[METRICS] Portfolio Portfolio1: value=13250.00, invested=13250.00, gain_loss=0.00
[METRICS] Portfolio Portfolio 4: value=32547.50, invested=29350.00, gain_loss=3197.50
[METRICS] Portfolio Portfolio 5: value=8405.00, invested=5000.00, gain_loss=3405.00
[METRICS] Portfolio Portfolio 3: value=7174.05, invested=8832.00, gain_loss=-1657.95
[METRICS] Portfolio portfolio 2: value=37998.25, invested=20000.00, gain_loss=17998.25
[METRICS] Updated aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: 30.02% (5 portfolios)
127.0.0.1 - - [29/Dec/2025 18:50:50] "POST /api/portfolio/save-metrics HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:50:51] "GET /api/portfolio/details?portfolio_id=27e4b6da-484e-45fe-b16f-51857467feea HTTP/1.1" 200 -
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 99374.8, 'total_invested_all_portfolios': 76432.0, 'gain_loss_all_portfolios': 22942.8, 'aggregate_return_percentage': 30.017270253297045}
127.0.0.1 - - [29/Dec/2025 18:50:51] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
[METRICS] Stored metrics for portfolio 7c0c111b-158c-47d6-9f8e-bc0492259133: 51.20%
[METRICS] Saved metrics for portfolio 7c0c111b-158c-47d6-9f8e-bc0492259133: {'total_value': 20033.5, 'total_invested': 13250.0, 'gain_loss': 6783.5, 'return_percentage': 51.19622641509434}
127.0.0.1 - - [29/Dec/2025 18:50:51] "POST /api/portfolio/last-sync HTTP/1.1" 200 -
[METRICS] Portfolio Portfolio1: value=20033.50, invested=13250.00, gain_loss=6783.50
[METRICS] Portfolio Portfolio 4: value=32547.50, invested=29350.00, gain_loss=3197.50
[METRICS] Portfolio Portfolio 5: value=8405.00, invested=5000.00, gain_loss=3405.00
[METRICS] Portfolio Portfolio 3: value=7174.05, invested=8832.00, gain_loss=-1657.95
[METRICS] Portfolio portfolio 2: value=37998.25, invested=20000.00, gain_loss=17998.25
127.0.0.1 - - [29/Dec/2025 18:50:51] "GET /api/stock/EMR/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:50:51] "GET /api/stock/GOOGL/instant HTTP/1.1" 200 -
[METRICS] Updated aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: 38.89% (5 portfolios)
127.0.0.1 - - [29/Dec/2025 18:50:51] "POST /api/portfolio/save-metrics HTTP/1.1" 200 -
Failed to get ticker 'EMR' reason: Expecting value: line 1 column 1 (char 0)
EMR: No timezone found, symbol may be delisted
127.0.0.1 - - [29/Dec/2025 18:50:51] "[33mGET /api/stock/EMR/history?from_date=2025-12-01 HTTP/1.1[0m" 404 -
Failed to get ticker 'GOOGL' reason: Expecting value: line 1 column 1 (char 0)
GOOGL: No timezone found, symbol may be delisted
127.0.0.1 - - [29/Dec/2025 18:50:51] "[33mGET /api/stock/GOOGL/history?from_date=2025-12-01 HTTP/1.1[0m" 404 -
[METRICS] Stored metrics for portfolio 27e4b6da-484e-45fe-b16f-51857467feea: 90.03%
[METRICS] Saved metrics for portfolio 27e4b6da-484e-45fe-b16f-51857467feea: {'total_value': 38005.27, 'total_invested': 20000.0, 'gain_loss': 18005.269999999997, 'return_percentage': 90.02635}
[METRICS] Portfolio Portfolio1: value=20033.50, invested=13250.00, gain_loss=6783.50
[METRICS] Portfolio Portfolio 4: value=32547.50, invested=29350.00, gain_loss=3197.50
[METRICS] Portfolio Portfolio 5: value=8405.00, invested=5000.00, gain_loss=3405.00
[METRICS] Portfolio Portfolio 3: value=7174.05, invested=8832.00, gain_loss=-1657.95
[METRICS] Portfolio portfolio 2: value=38005.27, invested=20000.00, gain_loss=18005.27
[METRICS] Updated aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: 38.90% (5 portfolios)
127.0.0.1 - - [29/Dec/2025 18:50:52] "POST /api/portfolio/save-metrics HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:51:02] "POST /api/portfolio/save HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:51:03] "GET /api/stock/GOOGL/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:51:04] "GET /api/stock/EMR/instant HTTP/1.1" 200 -
[METRICS] Stored metrics for portfolio 27e4b6da-484e-45fe-b16f-51857467feea: 0.00%
[METRICS] Saved metrics for portfolio 27e4b6da-484e-45fe-b16f-51857467feea: {'total_value': 20000.0, 'total_invested': 20000.0, 'gain_loss': 0.0, 'return_percentage': 0.0}
[METRICS] Portfolio Portfolio1: value=20033.50, invested=13250.00, gain_loss=6783.50
[METRICS] Portfolio portfolio 2: value=20000.00, invested=20000.00, gain_loss=0.00
[METRICS] Portfolio Portfolio 4: value=32547.50, invested=29350.00, gain_loss=3197.50
[METRICS] Portfolio Portfolio 5: value=8405.00, invested=5000.00, gain_loss=3405.00
[METRICS] Portfolio Portfolio 3: value=7174.05, invested=8832.00, gain_loss=-1657.95
[METRICS] Updated aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: 15.34% (5 portfolios)
127.0.0.1 - - [29/Dec/2025 18:51:05] "POST /api/portfolio/save-metrics HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:51:05] "GET /api/portfolio/details?portfolio_id=6b4ab30d-6002-4404-bb44-2726a48c5c1c HTTP/1.1" 200 -
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 88160.05, 'total_invested_all_portfolios': 76432.0, 'gain_loss_all_portfolios': 11728.05, 'aggregate_return_percentage': 15.34442380154909}
127.0.0.1 - - [29/Dec/2025 18:51:05] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
[METRICS] Stored metrics for portfolio 27e4b6da-484e-45fe-b16f-51857467feea: 90.03%
[METRICS] Saved metrics for portfolio 27e4b6da-484e-45fe-b16f-51857467feea: {'total_value': 38005.27, 'total_invested': 20000.0, 'gain_loss': 18005.269999999997, 'return_percentage': 90.02635}
127.0.0.1 - - [29/Dec/2025 18:51:05] "POST /api/portfolio/last-sync HTTP/1.1" 200 -
[METRICS] Portfolio Portfolio1: value=20033.50, invested=13250.00, gain_loss=6783.50
[METRICS] Portfolio portfolio 2: value=38005.27, invested=20000.00, gain_loss=18005.27
[METRICS] Portfolio Portfolio 4: value=32547.50, invested=29350.00, gain_loss=3197.50
[METRICS] Portfolio Portfolio 5: value=8405.00, invested=5000.00, gain_loss=3405.00
[METRICS] Portfolio Portfolio 3: value=7174.05, invested=8832.00, gain_loss=-1657.95
127.0.0.1 - - [29/Dec/2025 18:51:06] "GET /api/stock/AAL/instant HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:51:06] "GET /api/stock/MROL.XC/instant HTTP/1.1" 200 -
[METRICS] Updated aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: 38.90% (5 portfolios)
127.0.0.1 - - [29/Dec/2025 18:51:06] "POST /api/portfolio/save-metrics HTTP/1.1" 200 -
Failed to get ticker 'AAL' reason: Expecting value: line 1 column 1 (char 0)
AAL: No timezone found, symbol may be delisted
127.0.0.1 - - [29/Dec/2025 18:51:06] "[33mGET /api/stock/AAL/history?from_date=2025-12-01 HTTP/1.1[0m" 404 -
Failed to get ticker 'MROL.XC' reason: Expecting value: line 1 column 1 (char 0)
MROL.XC: No timezone found, symbol may be delisted
127.0.0.1 - - [29/Dec/2025 18:51:06] "[33mGET /api/stock/MROL.XC/history?from_date=2025-12-01 HTTP/1.1[0m" 404 -
[METRICS] Stored metrics for portfolio 6b4ab30d-6002-4404-bb44-2726a48c5c1c: -18.77%
[METRICS] Saved metrics for portfolio 6b4ab30d-6002-4404-bb44-2726a48c5c1c: {'total_value': 7174.26, 'total_invested': 8832.0, 'gain_loss': -1657.7399999999998, 'return_percentage': -18.76970108695652}
[METRICS] Portfolio Portfolio1: value=20033.50, invested=13250.00, gain_loss=6783.50
[METRICS] Portfolio portfolio 2: value=38005.27, invested=20000.00, gain_loss=18005.27
[METRICS] Portfolio Portfolio 4: value=32547.50, invested=29350.00, gain_loss=3197.50
[METRICS] Portfolio Portfolio 5: value=8405.00, invested=5000.00, gain_loss=3405.00
[METRICS] Portfolio Portfolio 3: value=7174.26, invested=8832.00, gain_loss=-1657.74
[METRICS] Updated aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: 38.90% (5 portfolios)
127.0.0.1 - - [29/Dec/2025 18:51:07] "POST /api/portfolio/save-metrics HTTP/1.1" 200 -
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 106165.52999999998, 'total_invested_all_portfolios': 76432.0, 'gain_loss_all_portfolios': 29733.53, 'aggregate_return_percentage': 38.90193897843835}
127.0.0.1 - - [29/Dec/2025 18:51:28] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 106165.52999999998, 'total_invested_all_portfolios': 76432.0, 'gain_loss_all_portfolios': 29733.53, 'aggregate_return_percentage': 38.90193897843835}
127.0.0.1 - - [29/Dec/2025 18:52:21] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:52:21] "GET / HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:52:21] "[33mGET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1[0m" 404 -
127.0.0.1 - - [29/Dec/2025 18:52:21] "GET /css/styles.css HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:52:21] "GET /js/app.js HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:52:21] "GET /js/modal.js HTTP/1.1" 200 -
127.0.0.1 - - [29/Dec/2025 18:52:22] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
127.0.0.1 - - [29/Dec/2025 18:52:28] "POST /api/portfolio/login HTTP/1.1" 200 -
[METRICS] Fetching cached metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22
[METRICS] Error fetching metrics: [Errno 35] Resource temporarily unavailable
[AGGREGATE] Error saving aggregate metrics: [Errno 35] Resource temporarily unavailable
Traceback (most recent call last):
Traceback (most recent call last):
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpx/_transports/default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpx/_transports/default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/connection_pool.py", line 256, in handle_request
    raise exc from None
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/connection_pool.py", line 256, in handle_request
    raise exc from None
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 187, in handle_request
    raise exc
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 187, in handle_request
    raise exc
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 150, in handle_request
    status, headers = self._receive_response(
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 150, in handle_request
    status, headers = self._receive_response(
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 294, in _receive_response
    event = self._receive_stream_event(request, stream_id)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 294, in _receive_response
    event = self._receive_stream_event(request, stream_id)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 336, in _receive_stream_event
    self._receive_events(request, stream_id)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 336, in _receive_stream_event
    self._receive_events(request, stream_id)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 364, in _receive_events
    events = self._read_incoming_data(request)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 364, in _receive_events
    events = self._read_incoming_data(request)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 438, in _read_incoming_data
    raise self._read_exception  # pragma: nocover
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 438, in _read_incoming_data
    raise self._read_exception  # pragma: nocover
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpx/_transports/default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpx/_transports/default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/connection_pool.py", line 256, in handle_request
    raise exc from None
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/connection_pool.py", line 256, in handle_request
    raise exc from None
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 187, in handle_request
    raise exc
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 150, in handle_request
    status, headers = self._receive_response(
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 294, in _receive_response
    event = self._receive_stream_event(request, stream_id)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 336, in _receive_stream_event
    self._receive_events(request, stream_id)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 364, in _receive_events
    events = self._read_incoming_data(request)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 455, in _read_incoming_data
    raise exc
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 441, in _read_incoming_data
    data = self._network_stream.read(self.READ_NUM_BYTES, timeout)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_backends/sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
httpcore.ReadError: [Errno 35] Resource temporarily unavailable
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/connection.py", line 103, in handle_request
    return self._connection.handle_request(request)

The above exception was the direct cause of the following exception:

  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 187, in handle_request
    raise exc
Traceback (most recent call last):
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 150, in handle_request
    status, headers = self._receive_response(
  File "/Users/ant/Desktop/StockVisualiser/app.py", line 2867, in save_user_aggregate_metrics
    'user_id', str(user_id)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 294, in _receive_response
    event = self._receive_stream_event(request, stream_id)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/postgrest/_sync/request_builder.py", line 47, in execute
    r = self.request.send()
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 336, in _receive_stream_event
    self._receive_events(request, stream_id)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/postgrest/base_request_builder.py", line 81, in send
    return self.session.request(
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 364, in _receive_events
    events = self._read_incoming_data(request)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpx/_client.py", line 825, in request
    return self.send(request, auth=auth, follow_redirects=follow_redirects)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 455, in _read_incoming_data
    raise exc
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpx/_client.py", line 914, in send
    response = self._send_handling_auth(
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_sync/http2.py", line 441, in _read_incoming_data
    data = self._network_stream.read(self.READ_NUM_BYTES, timeout)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpx/_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_backends/sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpx/_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpx/_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpx/_transports/default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
httpcore.ReadError: [Errno 35] Resource temporarily unavailable
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)

The above exception was the direct cause of the following exception:

  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
Traceback (most recent call last):
httpx.ReadError: [Errno 35] Resource temporarily unavailable
  File "/Users/ant/Desktop/StockVisualiser/app.py", line 2684, in get_cached_portfolio_metrics
    user_id = session['user_id']
127.0.0.1 - - [29/Dec/2025 18:52:29] "[35m[1mPOST /api/user/aggregate-metrics HTTP/1.1[0m" 500 -
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/postgrest/_sync/request_builder.py", line 47, in execute
    r = self.request.send()
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/postgrest/base_request_builder.py", line 81, in send
    return self.session.request(
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpx/_client.py", line 825, in request
    return self.send(request, auth=auth, follow_redirects=follow_redirects)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpx/_client.py", line 914, in send
    response = self._send_handling_auth(
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpx/_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpx/_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpx/_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpx/_transports/default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
  File "/Users/ant/Library/Python/3.9/lib/python/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ReadError: [Errno 35] Resource temporarily unavailable
127.0.0.1 - - [29/Dec/2025 18:52:29] "[35m[1mPOST /api/portfolios/metrics HTTP/1.1[0m" 500 -
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 106165.52999999998, 'total_invested_all_portfolios': 76432.0, 'gain_loss_all_portfolios': 29733.53, 'aggregate_return_percentage': 38.90193897843835}
127.0.0.1 - - [29/Dec/2025 18:52:29] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
