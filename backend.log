/Users/ant/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(

======================================================================
FLASK APP INITIALIZED - Portfolio storage with Supabase
======================================================================

âœ“ Supabase database connected (timeout: 10s connect, 30s read)
âœ“ AlphaVantage API key configured: 32NUEU37...

[STARTUP] FRONTEND_PATH: /Users/ant/Desktop/StockVisualiser/frontend
[STARTUP] Frontend exists: True
[STARTUP] index.html exists: True

[STARTUP] Verifying portfolio metrics tables...
[STARTUP] âœ“ Portfolio metrics tables verified

Starting Flask server on http://0.0.0.0:5001
API endpoint: /api/stock/{ticker}
Finnhub API key configured: d4gdnt9r...
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.207:5001
[33mPress CTRL+C to quit[0m
127.0.0.1 - - [30/Dec/2025 23:28:45] "GET /api/tests HTTP/1.1" 200 -
127.0.0.1 - - [30/Dec/2025 23:28:47] "OPTIONS /api/run-tests HTTP/1.1" 200 -
127.0.0.1 - - [30/Dec/2025 23:28:48] "POST /api/run-tests HTTP/1.1" 200 -
127.0.0.1 - - [30/Dec/2025 23:29:06] "OPTIONS /api/run-tests HTTP/1.1" 200 -
127.0.0.1 - - [30/Dec/2025 23:29:07] "POST /api/run-tests HTTP/1.1" 200 -
127.0.0.1 - - [30/Dec/2025 23:30:45] "GET /api/modals/rename_portfolio HTTP/1.1" 200 -
127.0.0.1 - - [30/Dec/2025 23:30:48] "GET /api/modals/delete_portfolio HTTP/1.1" 200 -
127.0.0.1 - - [30/Dec/2025 23:30:57] "GET /api/modals/add_portfolio HTTP/1.1" 200 -
127.0.0.1 - - [30/Dec/2025 23:32:24] "GET /api/tests HTTP/1.1" 200 -
127.0.0.1 - - [30/Dec/2025 23:32:28] "OPTIONS /api/run-tests HTTP/1.1" 200 -
127.0.0.1 - - [30/Dec/2025 23:32:29] "POST /api/run-tests HTTP/1.1" 200 -
127.0.0.1 - - [30/Dec/2025 23:32:39] "GET / HTTP/1.1" 200 -
127.0.0.1 - - [30/Dec/2025 23:32:39] "[33mGET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1[0m" 404 -
127.0.0.1 - - [30/Dec/2025 23:32:39] "GET /js/app.js HTTP/1.1" 200 -
127.0.0.1 - - [30/Dec/2025 23:32:39] "GET /css/styles.css HTTP/1.1" 200 -
127.0.0.1 - - [30/Dec/2025 23:32:39] "GET /js/modal.js HTTP/1.1" 200 -
127.0.0.1 - - [30/Dec/2025 23:32:40] "GET /favicon.ico HTTP/1.1" 200 -
127.0.0.1 - - [30/Dec/2025 23:33:12] "GET / HTTP/1.1" 200 -
127.0.0.1 - - [30/Dec/2025 23:33:16] "[33mGET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1[0m" 404 -
127.0.0.1 - - [30/Dec/2025 23:33:16] "GET /css/styles.css HTTP/1.1" 200 -
127.0.0.1 - - [30/Dec/2025 23:33:16] "GET /js/app.js HTTP/1.1" 200 -
127.0.0.1 - - [30/Dec/2025 23:33:16] "GET /js/modal.js HTTP/1.1" 200 -
127.0.0.1 - - [30/Dec/2025 23:33:16] "GET /favicon.ico HTTP/1.1" 200 -
[MODAL] Fetching modal config from database for: rename_portfolio
[MODAL] Modal not found in database: rename_portfolio, falling back to hardcoded config
[MODAL] Using fallback config for: rename_portfolio
[MODAL] Fetching modal config from database for: delete_portfolio
[MODAL] Successfully fetched modal config from database for: delete_portfolio
[MODAL] Fetching modal config from database for: add_portfolio
[MODAL] Successfully fetched modal config from database for: add_portfolio
[PORTFOLIO] Portfolio 2: created_at=2025-12-24T17:00:05.799824+00:00
[PORTFOLIO] Portfolio 2: created_at=2025-12-24T17:00:05.799824+00:00
[PORTFOLIO] Portfolio 2: created_at=2025-12-24T17:00:05.799824+00:00
[PORTFOLIO] Portfolio 2: created_at=2025-12-24T17:00:05.799824+00:00
[PORTFOLIO] Portfolio 4: created_at=2025-12-28T23:01:33.489358+00:00
[PORTFOLIO] Portfolio 4: created_at=2025-12-28T23:01:33.489358+00:00
[PORTFOLIO] Portfolio 4: created_at=2025-12-28T23:01:33.489358+00:00
[PORTFOLIO] Portfolio 4: created_at=2025-12-28T23:01:33.489358+00:00
[PORTFOLIO] Portfolio 5: created_at=2025-12-29T17:01:31.725899+00:00
[PORTFOLIO] Portfolio 5: created_at=2025-12-29T17:01:31.725899+00:00
[PORTFOLIO] Portfolio 5: created_at=2025-12-29T17:01:31.725899+00:00
[PORTFOLIO] Portfolio 1: created_at=2025-12-24T16:37:45.622264+00:00
[PORTFOLIO] Portfolio 5: created_at=2025-12-29T17:01:31.725899+00:00
[PORTFOLIO] Portfolio 1: created_at=2025-12-24T16:37:45.622264+00:00
[PORTFOLIO] Portfolio 1: created_at=2025-12-24T16:37:45.622264+00:00
[PORTFOLIO] Portfolio 3: created_at=2025-12-27T17:56:14.832994+00:00
[PORTFOLIO] Portfolio 3: created_at=2025-12-27T17:56:14.832994+00:00
[PORTFOLIO] Portfolio 1: created_at=2025-12-24T16:37:45.622264+00:00
[PORTFOLIO] Portfolio 3: created_at=2025-12-27T17:56:14.832994+00:00
127.0.0.1 - - [30/Dec/2025 23:33:22] "POST /api/portfolio/login HTTP/1.1" 200 -
[PORTFOLIO] Portfolio 3: created_at=2025-12-27T17:56:14.832994+00:00
127.0.0.1 - - [30/Dec/2025 23:33:22] "POST /api/portfolio/login HTTP/1.1" 200 -
[METRICS] Fetching cached metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22
127.0.0.1 - - [30/Dec/2025 23:33:22] "POST /api/portfolio/login HTTP/1.1" 200 -
127.0.0.1 - - [30/Dec/2025 23:33:22] "POST /api/portfolio/login HTTP/1.1" 200 -
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 106259.26, 'total_invested_all_portfolios': 76432.0, 'gain_loss_all_portfolios': 29827.26, 'aggregate_return_percentage': 39.02457086037261}
127.0.0.1 - - [30/Dec/2025 23:33:22] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
[METRICS] Calculated fresh aggregate: value=106259.26, invested=76432.00, gain_loss=29827.26, return=39.02%
[METRICS] Returning metrics for 5 portfolios
127.0.0.1 - - [30/Dec/2025 23:33:23] "POST /api/portfolios/metrics HTTP/1.1" 200 -
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 106259.26, 'total_invested_all_portfolios': 76432.0, 'gain_loss_all_portfolios': 29827.26, 'aggregate_return_percentage': 39.02457086037261}
127.0.0.1 - - [30/Dec/2025 23:33:23] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
127.0.0.1 - - [30/Dec/2025 23:33:35] "GET /api/modals/rename_portfolio HTTP/1.1" 200 -
127.0.0.1 - - [30/Dec/2025 23:33:38] "PUT /api/user/portfolios/7c0c111b-158c-47d6-9f8e-bc0492259133 HTTP/1.1" 200 -
[MODAL] Fetching modal config from database for: rename_portfolio
[MODAL] Modal not found in database: rename_portfolio, falling back to hardcoded config
[MODAL] Using fallback config for: rename_portfolio
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 106259.26, 'total_invested_all_portfolios': 76432.0, 'gain_loss_all_portfolios': 29827.26, 'aggregate_return_percentage': 39.02457086037261}
127.0.0.1 - - [30/Dec/2025 23:33:38] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
127.0.0.1 - - [30/Dec/2025 23:33:48] "PUT /api/user/portfolios/7c0c111b-158c-47d6-9f8e-bc0492259133 HTTP/1.1" 200 -
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 106259.26, 'total_invested_all_portfolios': 76432.0, 'gain_loss_all_portfolios': 29827.26, 'aggregate_return_percentage': 39.02457086037261}
127.0.0.1 - - [30/Dec/2025 23:33:49] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
[PORTFOLIO] Portfolio 2: created_at=2025-12-24T17:00:05.799824+00:00
[PORTFOLIO] Portfolio 4: created_at=2025-12-28T23:01:33.489358+00:00
[PORTFOLIO] Portfolio 5: created_at=2025-12-29T17:01:31.725899+00:00
[PORTFOLIO] Portfolio 1: created_at=2025-12-24T16:37:45.622264+00:00
[PORTFOLIO] Portfolio 3: created_at=2025-12-27T17:56:14.832994+00:00
127.0.0.1 - - [30/Dec/2025 23:33:55] "GET /api/user/portfolios HTTP/1.1" 200 -
[AGGREGATE] Saved aggregate metrics for user ffff0940-03d5-4ecf-9c1f-57e0bc176a22: {'total_value_all_portfolios': 106259.26, 'total_invested_all_portfolios': 76432.0, 'gain_loss_all_portfolios': 29827.26, 'aggregate_return_percentage': 39.02457086037261}
127.0.0.1 - - [30/Dec/2025 23:33:55] "POST /api/user/aggregate-metrics HTTP/1.1" 200 -
